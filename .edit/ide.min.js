function App(){this.GetType=function(){return"App"};this.GetObjects=function(){return _map};this.Exit=function(n){prompt("#","App.Exit("+n)};this.ToBack=function(){prompt("#","App.ToBack(")};this.Execute=function(n){prompt("#","App.Execute("+n)};this.StartApp=function(n,t,i){prompt("#","App.StartApp(\f"+n+"\f"+t+"\f"+i)};this.StopApp=function(n){prompt("#","App.StopApp("+n)};this.SetScreenMode=function(n){prompt("#","App.SetScreenMode(\f"+n)};this.SetOptions=function(n){prompt("#","App.SetOptions(\f"+n)};this.StartService=function(n,t){prompt("#","App.StartService(\f"+n+"\f"+t)};this.StopService=function(){prompt("#","App.StopService(")};this.StartDebugServer=function(){prompt("#","App.StartDebugServer(")};this.SendIntent=function(n,t,i,r,u,f,e,o){return prompt("#","App.SendIntent(\f"+n+"\f"+t+"\f"+i+"\f"+r+"\f"+u+"\f"+f+"\f"+e+"\f"+o)};this.SendMessage=function(n){prompt("#","App.SendMessage(\f"+n)};this.LoadScript=function(n,t){_LoadScript(n,t)};this.LoadPlugin=function(n){_LoadPlugin(n)};this.Try=function(n,t,i){return prompt("#","App.Try(\f"+n+"\f"+t+"\f"+i)};this.SysExec=function(n,t){return prompt("#","App.SysExec(\f"+n+"\f"+t)};this.Odroid=function(n,t,i){return prompt("#","App.Odroid(\f"+n+"\f"+t+"\f"+i)};this.GetName=function(){return prompt("#","App.GetName(")};this.GetPath=function(){return prompt("#","App.GetPath(")};this.GetAppName=function(){return prompt("#","App.GetAppName(")};this.GetAppPath=function(){return prompt("#","App.GetAppPath(")};this.GetVersion=function(){return parseFloat(prompt("#","App.GetVersion("))};this.GetDSVersion=function(){return parseFloat(prompt("#","App.GetDSVersion("))};this.IsNewVersion=function(){return prompt("#","App.IsNewVersion(")=="true"};this.GetPackageName=function(){return prompt("#","App.GetPackageName(")};this.CheckLicense=function(n){prompt("#","App.CheckLicense(\f"+n)};this.GetAccounts=function(){return prompt("#","App.GetAccounts(")};this.GetUser=function(){return prompt("#","App.GetUser(")};this.GetDeviceId=function(){return prompt("#","App.GetDeviceId(")};this.GetCountryCode=function(){return prompt("#","App.GetCountryCode(")};this.GetLanguageCode=function(){return prompt("#","App.GetLanguageCode(")};this.GetCountry=function(){return prompt("#","App.GetCountry(")};this.GetLanguage=function(){return prompt("#","App.GetLanguage(")};this.GetOptions=function(){return prompt("#","App.GetOptions(")};this.GetSharedText=function(n){return prompt("#","App.GetSharedText("+n)};this.GetSharedFiles=function(){var n=prompt("#","App.GetSharedFiles(");return n.length?n.split(","):null};this.GetRunningApps=function(){return eval(prompt("#","App.GetRunningApps(\f"))};this.GetRunningServices=function(){return eval(prompt("#","App.GetRunningServices(\f"))};this.GetIntent=function(){var n=prompt("#","App.GetIntent(");return n.length?JSON.parse(n):null};this.GetNotifyId=function(){return prompt("#","App.GetNotifyId(")};this.SetSharedApp=function(n){prompt("#","App.SetSharedApp("+n)};this.GetMediaFile=function(n,t){return prompt("#","App.GetMediaFile(\f"+n+"\f"+t)};this.KillApp=function(n){prompt("#","App.KillApp("+n)};this.CreateShortcut=function(n,t,i){prompt("#","App.CreateShortcut("+n+"\f"+t+"\f"+i)};this.GetBuildNum=function(){return parseInt(prompt("#","App.GetBuildNum("))};this.GetOSVersion=function(){return parseInt(prompt("#","App.GetBuildNum("))};this.GetModel=function(){return prompt("#","App.GetModel(")};this.IsTablet=function(){return prompt("#","App.IsTablet(")=="true"};this.IsChrome=function(){return prompt("#","App.IsChrome(")=="true"};this.SetOnError=function(n){prompt("#","App.SetOnError("+n.name)};this.SetOnKey=function(n){prompt("#","App.SetOnKey(\f"+(n?n.name:null))};this.DisableKeys=function(n){prompt("#","App.DisableKeys(\f"+n)};this.GetIPAddress=function(){return prompt("#","App.GetIPAddress(")};this.GetMacAddress=function(){return prompt("#","App.GetMacAddress(")};this.GetSSID=function(){return prompt("#","App.GetSSID(")};this.Broadcast=function(n,t){prompt("#","App.Broadcast("+n+"\f"+t)};this.SetOnBroadcast=function(n){prompt("#","App.SetOnBroadcast("+n.name)};this.SetData=function(n,t){prompt("#","App.SetData(\f"+n+"\f"+t)};this.GetData=function(n){return prompt("#","App.GetData(\f"+n)};this.SetClipboardText=function(n){prompt("#","App.SetClipboardText("+n)};this.GetClipboardText=function(){return prompt("#","App.GetClipboardText(")};this.EnableBackKey=function(n){prompt("#","App.EnableBackKey("+n)};this.Wait=function(n){prompt("#","App.Wait("+n)};this.Alert=function(n,t){prompt("#","App.Alert("+n+"\f"+(t?t:""))};this.HideKeyboard=function(n){prompt("#","App.HideKeyboard("+n)};this.ShowKeyboard=function(n){return prompt("#","App.ShowKeyboard(\f"+n.id)=="true"};this.IsKeyboardShown=function(){return prompt("#","App.IsKeyboardShown(")=="true"};this.GetKeyboardHeight=function(){return prompt("#","App.GetKeyboardHeight(")};this.TextToSpeech=function(n,t,i,r){prompt("#","App.TextToSpeech(\f"+n+"\f"+t+"\f"+i+"\f"+(r?r.name:null))};this.Debug=function(n){prompt("#","App.Debug(\f"+n)};this.SetDebugEnabled=function(n){prompt("#","App.SetDebugEnabled("+n);_dbg=n};this.CreateDebug=function(){prompt("#","App.CreateDebug(")};this.ShowDebug=function(n){prompt("#","App.ShowDebug("+n)};this.SendMail=function(n,t,i,r){prompt("#","App.SendMail("+n+"\f"+t+"\f"+i+"\f"+r)};this.SendFile=function(n,t,i){prompt("#","App.SendFile(\f"+n+"\f"+t+"\f"+i)};this._Extract=function(n){prompt("#","App._Extract("+n)};this.ExtractAssets=function(n,t,i){prompt("#","App.ExtractAssets(\f"+n+"\f"+t+"\f"+i)};this.Vibrate=function(n){prompt("#","App.Vibrate("+n)};this.ShowPopup=function(n,t){prompt("#","App.ShowPopup("+n+"\f"+t)};this.ShowProgress=function(n){prompt("#","App.ShowProgress("+n)};this.HideProgress=function(){prompt("#","App.HideProgress(")};this.ShowProgressBar=function(n,t){prompt("#","App.ShowProgressBar(\f"+n+"\f"+t)};this.UpdateProgressBar=function(n){prompt("#","App.UpdateProgressBar(\f"+n)};this.HideProgressBar=function(){prompt("#","App.HideProgressBar(")};this.LoadText=function(n,t,i){return prompt("#","App.LoadText("+n+"\f"+t+"\f"+i)};this.LoadNumber=function(n,t,i){return parseFloat(prompt("#","App.LoadNumber("+n+"\f"+t+"\f"+i))};this.LoadBoolean=function(n,t,i){return prompt("#","App.LoadBoolean("+n+"\f"+t+"\f"+i)=="true"};this.SaveText=function(n,t,i){prompt("#","App.SaveText("+n+"\f"+t+"\f"+i)};this.SaveNumber=function(n,t,i){prompt("#","App.SaveNumber("+n+"\f"+t+"\f"+i)};this.SaveBoolean=function(n,t,i){prompt("#","App.SaveBoolean("+n+"\f"+t+"\f"+i)};this.ClearData=function(n){prompt("#","App.ClearData(\f"+n)};this.GetTop=function(){return parseFloat(prompt("#","App.GetTop("))};this.GetScreenWidth=function(){return parseFloat(prompt("#","App.GetScreenWidth("))};this.GetScreenHeight=function(){return parseFloat(prompt("#","App.GetScreenHeight("))};this.GetScreenDensity=function(){return parseFloat(prompt("#","App.GetScreenDensity("))};this.GetDisplayWidth=function(){return parseFloat(prompt("#","App.GetDisplayWidth("))};this.GetDisplayHeight=function(){return parseFloat(prompt("#","App.GetDisplayHeight("))};this.GetDefaultOrientation=function(){return prompt("#","App.GetDefaultOrientation(")};this.GetOrientation=function(){return prompt("#","App.GetOrientation(")};this.SetOrientation=function(n,t){prompt("#","App.SetOrientation(\f"+n+"\f"+(t?t.name:null))};this.GetRotation=function(){return parseInt(prompt("#","App.GetRotation("))};this.GetBatteryLevel=function(){return parseFloat(prompt("#","App.GetBatteryLevel(\f"))};this.PreventScreenLock=function(n){prompt("#","App.PreventScreenLock("+n)};this.PreventWifiSleep=function(){prompt("#","App.PreventWifiSleep(")};this.SetWifiEnabled=function(n){prompt("#","App.SetWifiEnabled(\f"+n)};this.IsWifiEnabled=function(){return prompt("#","App.IsWifiEnabled(")=="true"};this.SetBluetoothEnabled=function(n){prompt("#","App.SetBluetoothEnabled(\f"+n)};this.IsBluetoothEnabled=function(){return prompt("#","App.IsBluetoothEnabled(")=="true"};this.SetRingerMode=function(n){prompt("#","App.SetRingerMode(\f"+n)};this.GetRingerMode=function(){return prompt("#","App.GetRingerMode(")};this.SetVolume=function(n,t){prompt("#","App.SetVolume(\f"+n+"\f"+t)};this.GetVolume=function(n){return parseFloat(prompt("#","App.GetVolume(\f"+n))};this.SetTitle=function(n){prompt("#","App.SetTitle("+n)};this.SetMenu=function(n,t){prompt("#","App.SetMenu("+n+"\f"+t)};this.ShowMenu=function(){prompt("#","App.ShowMenu(")};this.AddLayout=function(n){prompt("#","App.AddLayout("+n.id)};this.RemoveLayout=function(n){prompt("#","App.RemoveLayout("+n.id)};this.DestroyLayout=function(n){prompt("#","App.DestroyLayout("+n.id)};this.MakeFolder=function(n){prompt("#","App.MakeFolder("+n)};this.GetPrivateFolder=function(n){return prompt("#","App.GetPrivateFolder(\f"+n)};this.GetDatabaseFolder=function(){return prompt("#","App.GetDatabaseFolder(")};this.DeleteDatabase=function(n){prompt("#","App.DeleteDatabase(\f"+n)};this.FolderExists=function(n){return prompt("#","App.FolderExists("+n)=="true"};this.FileExists=function(n){return prompt("#","App.FileExists("+n)=="true"};this.IsFolder=function(n){return prompt("#","App.IsFolder("+n)=="true"};this.ListFolder=function(n,t,i,r){return eval(prompt("#","App.ListFolder(\f"+n+"\f"+t+"\f"+i+"\f"+r))};this.GetExternalFolder=function(){return prompt("#","App.GetExternalFolder(")};this.GetInternalFolder=function(){return prompt("#","App.GetInternalFolder(")};this.GetSpecialFolder=function(n){return prompt("#","App.GetSpecialFolder(\f"+n)};this.GetEnv=function(n){return prompt("#","App.GetEnv(\f"+n)};this.ReadFile=function(n,t){return prompt("#","App.ReadFile(\f"+n+"\f"+t)};this.WriteFile=function(n,t,i,r){prompt("#","App.WriteFile(\f"+n+"\f"+t+"\f"+i+"\f"+r)};this.OpenFile=function(n,t,i){prompt("#","App.OpenFile(\f"+n+"\f"+t+"\f"+i)};this.OpenUrl=function(n){prompt("#","App.OpenUrl("+n)};this.DeleteFile=function(n){prompt("#","App.DeleteFile("+n)};this.CopyFile=function(n,t){prompt("#","App.CopyFile("+n+"\f"+t)};this.CopyFolder=function(n,t,i,r){prompt("#","App.CopyFolder(\f"+n+"\f"+t+"\f"+i+"\f"+r)};this.DeleteFolder=function(n){prompt("#","App.DeleteFolder("+n)};this.RenameFile=function(n,t){prompt("#","App.RenameFile("+n+"\f"+t)};this.RenameFolder=function(n,t){prompt("#","App.RenameFile("+n+"\f"+t)};this.GetFreeSpace=function(n){return parseFloat(prompt("#","App.GetFreeSpace(\f"+n))};this.GetFileDate=function(n){var t=parseInt(prompt("#","App.GetFileDate(\f"+n));return t?new Date(t):null};this.GetFileSize=function(n){return parseInt(prompt("#","App.GetFileSize(\f"+n))};this.GetLastButton=function(){var n=prompt("#","App.GetLastButton(");return n?_map[n]:null};this.GetLastToggle=function(){var n=prompt("#","App.GetLastToggle(");return n?_map[n]:null};this.GetLastCheckBox=function(){var n=prompt("#","App.GetLastCheckBox(");return n?_map[n]:null};this.GetLastImage=function(){var n=prompt("#","App.GetLastImage(");return n?_map[n]:null};this.IsBluetoothOn=function(){return prompt("#","App.IsBluetoothOn(")=="true"};this.IsScreenOn=function(){return prompt("#","App.IsScreenOn(")=="true"};this.GoToSleep=function(){prompt("#","App.GoToSleep(")};this.SetScreenBrightness=function(n){prompt("#","App.SetScreenBrightness(\f"+n)};this.GetMetadata=function(n,t){return prompt("#","App.GetMetadata(\f"+n+"\f"+t)};this.SetAlarm=function(n,t,i,r,u){return prompt("#","App.SetAlarm(\f"+n+"\f"+t+"\f"+(i?i.name:null)+"\f"+r+"\f"+u)};this.Call=function(n){prompt("#","App.Call(\f"+n)};this.SimulateTouch=function(n,t,i,r){prompt("#","App.SimulateTouch(\f"+n.id+"\f"+t+"\f"+i+"\f"+r)};this.GetJoystickState=function(n,t){return parseFloat(prompt("#","App.GetJoyState(\f"+n+"\f"+t))};this.GetJoystickName=function(n){return prompt("#","App.GetJoyName(\f"+n)};this.SetJoystickOptions=function(n){prompt("#","App.SetJoystickOptions(\f"+n)};this.SetAutoBoot=function(n){prompt("#","App.SetAutoBoot(\f"+n)};this.SetAutoWifi=function(n){prompt("#","App.SetAutoWifi(\f"+n)};this.SetAutoStart=function(n){prompt("#","App.SetAutoStart(\f"+n)};this.HttpRequest=function(n,t,i,r,u,f){prompt("#","App.HttpRequest(\f"+n+"\f"+t+"\f"+i+"\f"+r+"\f"+(u?u.name:null)+"\f"+f)};this.SaveCookies=function(){prompt("#","App.SaveCookies(")};this.ClearCookies=function(n){prompt("#","App.ClearCookies(\f"+n)};this.CreateLayout=function(n,t){var i=prompt("#","App.CreateLayout("+n+"\f"+t);return i?new Lay(i):null};this.CreateImage=function(n,t,i,r,u,f){var e=prompt("#","App.CreateImage("+n+"\f"+t+"\f"+i+"\f"+r+"\f"+u+"\f"+f);return e?new Img(e):null};this.CreateButton=function(n,t,i,r){var u=prompt("#","App.CreateButton("+n+"\f"+t+"\f"+i+"\f"+r);return u?new Btn(u):null};this.CreateToggle=function(n,t,i,r){var u=prompt("#","App.CreateToggle("+n+"\f"+t+"\f"+i+"\f"+r);return u?new Tgl(u):null};this.CreateCheckBox=function(n,t,i,r){var u=prompt("#","App.CreateCheckBox("+n+"\f"+t+"\f"+i+"\f"+r);return u?new Chk(u):null};this.CreateSpinner=function(n,t,i,r){var u=prompt("#","App.CreateSpinner("+n+"\f"+t+"\f"+i+"\f"+r);return u?new Spn(u):null};this.CreateSeekBar=function(n,t,i){var r=prompt("#","App.CreateSeekBar("+n+"\f"+t+"\f"+i);return r?new Skb(r):null};this.CreateText=function(n,t,i,r){var u=prompt("#","App.CreateText("+n+"\f"+t+"\f"+i+"\f"+r);return u?new Txt(u):null};this.CreateTextEdit=function(n,t,i,r){var u=prompt("#","App.CreateTextEdit("+n+"\f"+t+"\f"+i+"\f"+r);return u?new Txe(u):null};this.CreateList=function(n,t,i,r){var u=prompt("#","App.CreateList("+n+"\f"+t+"\f"+i+"\f"+r);return u?new Lst(u):null};this.CreateWebView=function(n,t,i,r){var u=prompt("#","App.CreateWeb(\f"+n+"\f"+t+"\f"+i+"\f"+r);return u?new Web(u):null};this.CreateScroller=function(n,t,i){var r=prompt("#","App.CreateScroller("+n+"\f"+t+"\f"+i);return r?new Scr(r):null};this.CreateCameraView=function(n,t,i){var r=prompt("#","App.CreateCameraView("+n+"\f"+t+"\f"+i);return r?new Cam(r):null};this.CreateVideoView=function(n,t,i){var r=prompt("#","App.CreateVideoView(\f"+n+"\f"+t+"\f"+i);return r?new Vid(r):null};this.CreateWebGLView=function(n,t,i){var r=prompt("#","App.CreateWebGLView(\f"+n+"\f"+t+"\f"+i);return r?new WGL(r):null};this.CreateYesNoDialog=function(n){_ynd&&_ynd.Release();var t=prompt("#","App.CreateYesNoDialog("+n);return _ynd=t?new Ynd(t):null};this.CreateListDialog=function(n,t,i){_ldg&&_ldg.Release();var r=prompt("#","App.CreateListDialog("+n+"\f"+t+"\f"+i);return _ldg=r?new Ldg(r):null};this.CreateListView=function(n,t,i){_lvw&&_lvw.Release();var r=prompt("#","App.CreateListView(\f"+n+"\f"+t+"\f"+i);return _lvw=r?new Lvw(r):null};this.CreateBluetoothList=function(n){_btl&&_btl.Release();var t=prompt("#","App.CreateBluetoothList("+n);return _btl=t?new Btl(t):null};this.CreateAudioRecorder=function(){_rec&&_rec.Release();var n=prompt("#","App.CreateAudioRecorder(");return _rec=n?new Rec(n):null};this.CreateSMS=function(){_sms&&_sms.Release();var n=prompt("#","App.CreateSMS(");return _sms=n?new SMS(n):null};this.CreateEmail=function(n,t){_eml&&_eml.Release();var i=prompt("#","App.CreateEmail("+n+"\f"+t);return _eml=i?new EMAIL(i):null};this.CreateSmartWatch=function(n){_smw&&_smw.Release();var t=prompt("#","App.CreateSmartWatch(\f"+n);return _smw=t?new SMW(t):null};this.CreateCrypt=function(n){_crp&&_crp.Release();var t=prompt("#","App.CreateCrypt(\f"+n);return _crp=t?new Crp(t):null};this.CreateSpeechRec=function(n){_spr&&_spr.Release();var t=prompt("#","App.CreateSpeechRec(\f"+n);return _spr=t?new Spr(t):null};this.CreatePhoneState=function(n){_pst&&_pst.Release();var t=prompt("#","App.CreatePhoneState(\f"+n);return _pst=t?new Pst(t):null};this.CreateDialog=function(n,t){var i=prompt("#","App.CreateDialog(\f"+n+"\f"+t);return i?new Dlg(i):null};this.CreateMediaPlayer=function(){var n=prompt("#","App.CreateMediaPlayer(");return n?new Aud(n):null};this.CreateSensor=function(n,t){var i=prompt("#","App.CreateSensor("+n+"\f"+t);return i?new Sns(i):null};this.CreateLocator=function(n,t){var i=prompt("#","App.CreateLocator("+n+"\f"+t);return i?new Loc(i):null};this.CreateNetClient=function(n){var t=prompt("#","App.CreateNetClient("+n);return t?new Net(t):null};this.CreateNxtRemote=function(){var n=prompt("#","App.CreateNxtRemote(");return n?new Nxt(n,null):null};this.CreateWebServer=function(n,t){var i=prompt("#","App.CreateWebServer("+n+"\f"+t);return i?new Wbs(i):null};this.CreateUSBSerial=function(n,t,i,r,u){var f=prompt("#","App.CreateUSBSerial(\f"+n+"\f"+t+"\f"+i+"\f"+r+"\f"+u);return f?new Usb(f):null};this.CreateSysProc=function(n){var t=prompt("#","App.CreateSysProc(\f"+n);return t?new Sys(t):null};this.CreateService=function(n,t,i,r){var u=prompt("#","App.CreateService(\f"+n+"\f"+t+"\f"+r+"\f"+(i?i.name:null));return u?new Svc(u):null};this.CreateObject=function(n){try{return eval("new "+n+"()")}catch(t){return null}};this.CreateSynth=function(n){var t=prompt("#","App.CreateSynth("+n);return t?new Syn(t):null};this.CreateBluetoothSerial=function(n){var t=prompt("#","App.CreateBluetoothSerial(\f"+n);return t?new Bts(t):null};this.CreateZipUtil=function(n){var t=prompt("#","App.CreateZipUtil(\f"+n);return t?new Zip(t):null};this.CreateDownloader=function(){var n=prompt("#","App.CreateDownloader(");return n?new Dwn(n):null};this.CreateMediaStore=function(){var n=prompt("#","App.CreateMediaStore(");return n?new Med(n):null};this.CreatePlayStore=function(){var n=prompt("#","App.CreatePlayStore(");return n?new Ply(n):null};this.CreateNotification=function(n){var t=prompt("#","App.CreateNotification(\f"+n);return t?new Not(t):null};this.CreateFile=function(n,t){var i=prompt("#","App.CreateFile(\f"+n+"\f"+t);return i?new Fil(i):null};this.Start=function(){typeof OnStart=="function"&&(OnStart(),prompt("#","_Start"))};this.CreateNxt=function(){var n=new _NxtHelp;return n.nxt_CreateNxt()};this.CreateTabs=function(n,t,i,r){return new _Tabs(n,t,i,r)};this.CreateGLView=function(n,t,i){var r=null;return i.toLowerCase().indexOf("fast2d")>-1&&(_LoadScriptSync("/Sys/cp.js"),_LoadScriptSync("/Sys/gl.js"),r=new GLV(prompt("#","App.CreateGLView(\f"+n+"\f"+t+"\f"+i)),r.canvas=FastCanvas.create(),r.ctx=r.canvas.getContext("2d"),r.width=Math.round(this.GetDisplayWidth()*n),r.height=Math.round(this.GetDisplayHeight()*t),r.aspect=r.width/r.height,r.GetType=function(){return"GlView"}),r};this.OpenDatabase=function(n){_LoadScriptSync("/Sys/cp.js");_LoadScriptSync("/Sys/sql.js");_CreateCP("sqliteplugin");var t=sqlitePlugin.openDatabase(n);return t.name=n,t.GetType=function(){return"Database"},t.GetName=function(){return t.name},t.ExecuteSql=function(n,i,r,u){r&&r.name||(r=null);u&&u.name||(u=_Err);t.transaction(function(f){f.executeSql(n,i,function(n,i){r&&r.apply(t,[i])},function(n,i){u.apply(t,[i.message])})},u)},t.Close=function(){t.close(_Log,_Err)},t.Delete=function(){sqlitePlugin.deleteDatabase(t.name,_Log,_Err)},t}}function Obj(n){_map[n]=this;this.id=n;this.Destroy=function(){prompt(this.id,"Obj.Release(");_map[this.id]=null};this.Release=function(){prompt(this.id,"Obj.Release(");_map[this.id]=null};this.SetVisibility=function(n){prompt(this.id,"Obj.SetVisibility("+n)};this.GetVisibility=function(){return prompt(this.id,"Obj.GetVisibility(")};this.SetPadding=function(n,t,i,r){prompt(this.id,"Obj.SetPadding("+n+"\f"+t+"\f"+i+"\f"+r)};this.SetMargins=function(n,t,i,r){prompt(this.id,"Obj.SetMargins(\f"+n+"\f"+t+"\f"+i+"\f"+r)};this.SetBackground=function(n,t){prompt(this.id,"Obj.SetBackground("+n+"\f"+t)};this.SetBackColor=function(n){prompt(this.id,"Obj.SetBackColor("+n)};this.SetBackGradient=function(n,t,i,r,u,f,e){prompt(this.id,"Obj.SetBackGradient(Linear\f"+n+"\f"+t+"\f"+i+"\f"+r+"\f"+u+"\f"+f+"\f"+e)};this.SetBackGradientRadial=function(n,t,i,r,u,f,e){prompt(this.id,"Obj.SetBackGradient(Radial\f"+n+"\f"+t+"\f"+i+"\f"+r+"\f"+u+"\f"+f+"\f"+e)};this.SetPosition=function(n,t,i,r){prompt(this.id,"Obj.SetPosition("+n+"\f"+t+"\f"+i+"\f"+r)};this.SetSize=function(n,t){prompt(this.id,"Obj.SetSize("+n+"\f"+t)};this.GetWidth=function(){return prompt(this.id,"Obj.GetWidth(")};this.GetHeight=function(){return prompt(this.id,"Obj.GetHeight(")};this.GetAbsWidth=function(){return prompt(this.id,"Obj.GetAbsWidth(")};this.GetAbsHeight=function(){return prompt(this.id,"Obj.GetAbsHeight(")};this.GetPosition=function(){return eval(prompt(this.id,"Obj.GetPosition("))};this.SetScale=function(n,t){prompt(this.id,"Obj.SetScale(\f"+n+"\f"+t)};this.Focus=function(){prompt(this.id,"Obj.Focus(\f")}}function Lay(n){var t=new Obj(n);return t.GetType=function(){return"Layout"},t.SetOrientation=function(n){prompt(t.id,"Lay.SetOrientation("+n)},t.AddChild=function(n,i){prompt(t.id,"Lay.AddChild(\f"+(n?n.id:null)+"\f"+i)},t.RemoveChild=function(n){prompt(t.id,"Lay.RemoveChild("+(n?n.id:null))},t.DestroyChild=function(n){prompt(t.id,"Lay.DestroyChild("+(n?n.id:null))},t.ChildToFront=function(n){prompt(t.id,"Lay.ChildToFront("+(n?n.id:null))},t.GetChildOrder=function(n){return parseInt(prompt(t.id,"Lay.GetChildOrder(\f"+(n?n.id:null)))},t.Animate=function(n,i){prompt(t.id,"Lay.Animate("+n+"\f"+(i?i.name:null))},t.SetTouchable=function(n){prompt(t.id,"Lay.SetTouchable("+n)},t}function Img(n){var t=new Obj(n);return t._auto=!0,t._gfb="",t.GetType=function(){return"Image"},t.Clear=function(){t._auto?prompt(t.id,"Img.Clear("):this.Draw("c")},t.Update=function(){t._auto?prompt(t.id,"Img.Update("):(prompt(t.id,"Img.Batch("+t._gfb),t._gfb="")},t.Update2=function(){t._auto?prompt(t.id,"Img.Update("):(prompt(t.id,"Img.Batch2("+t._gfb),t._gfb="")},t.SetAutoUpdate=function(n){t._auto=n;prompt(t.id,"Img.SetAutoUpdate\f"+n)},t.SetName=function(n){prompt(t.id,"Img.SetName("+n)},t.GetName=function(){return prompt(t.id,"Img.GetName(")},t.SetImage=function(n,i,r,u){typeof n=="string"?prompt(t.id,"Img.LoadImage(\f"+n+"\f"+i+"\f"+r+"\f"+u):prompt(t.id,"Img.CopyImage(\f"+(n?n.id:null)+"\f"+i+"\f"+r+"\f"+u)},t.GetPixelData=function(n,i,r,u,f){return prompt(t.id,"Img.GetPixelData(\f"+n+"\f"+i+"\f"+r+"\f"+u+"\f"+f)},t.SetSize=function(n,t){prompt(this.id,"Img.SetSize("+n+"\f"+t)},t.GetHeight=function(){return parseFloat(prompt(t.id,"Img.GetHeight("))},t.GetWidth=function(){return parseFloat(prompt(t.id,"Img.GetWidth("))},t.GetAbsHeight=function(){return parseFloat(prompt(t.id,"Img.GetAbsHeight("))},t.GetAbsWidth=function(){return parseFloat(prompt(t.id,"Img.GetAbsWidth("))},t.SetOnTouch=function(n){prompt(t.id,"Img.SetOnTouch("+(n?n.name:null))},t.SetOnTouchUp=function(n){prompt(t.id,"Img.SetOnTouchUp("+(n?n.name:null))},t.SetOnTouchMove=function(n){prompt(t.id,"Img.SetOnTouchMove("+(n?n.name:null))},t.SetOnTouchDown=function(n){prompt(t.id,"Img.SetOnTouchDown("+(n?n.name:null))},t.SetOnLongTouch=function(n){prompt(t.id,"Img.SetOnLongTouch("+(n?n.name:null))},t.SetOnLoad=function(n){prompt(t.id,"Img.SetOnLoad\f"+(n?n.name:null))},t.SetTouchable=function(n){prompt(t.id,"Img.SetTouchable("+n)},t.SetMaxRate=function(n){prompt(t.id,"Img.SetMaxRate("+n)},t.DrawImage=function(n,i,r,u,f,e,o){t._auto?prompt(t.id,"Img.DrawImage\f"+(n?n.id:null)+"\f"+i+"\f"+r+"\f"+u+"\f"+f+"\f"+e+"\f"+o):this.Draw("i",n?n.id:null,i,r,u?u:-1,f?f:-1,e,o)},t.DrawImageMtx=function(n,i){t._auto?prompt(t.id,"Img.DrawImageMtx\f"+(n?n.id:null)+"\f"+i):this.Draw("m",n?n.id:null,i)},t.DrawPoint=function(n,i){t._auto?prompt(t.id,"Img.DrawPoint("+n+"\f"+i):this.Draw("p",null,n,i)},t.DrawCircle=function(n,i,r){t._auto?prompt(t.id,"Img.DrawCircle("+n+"\f"+i+"\f"+r):this.Draw("e",null,n,i,r)},t.DrawArc=function(n,i,r,u,f,e){t._auto?prompt(t.id,"Img.DrawArc("+n+"\f"+i+"\f"+r+"\f"+u+"\f"+f+"\f"+e):this.Draw("a",null,n,i,r,u,f,e)},t.DrawLine=function(n,i,r,u){t._auto?prompt(t.id,"Img.DrawLine("+n+"\f"+i+"\f"+r+"\f"+u):this.Draw("l",null,n,i,r,u)},t.DrawRectangle=function(n,i,r,u){t._auto?prompt(t.id,"Img.DrawRect("+n+"\f"+i+"\f"+r+"\f"+u):this.Draw("r",null,n,i,r,u)},t.DrawText=function(n,i,r){t._auto?prompt(t.id,"Img.DrawText("+n+"\f"+i+"\f"+r):this.Draw("t",n,i,r,0,0,0)},t.SetAlpha=function(n){t._auto?prompt(t.id,"Img.SetAlpha("+n):this.Draw("k",null,n)},t.SetColor=function(n){t._auto?prompt(t.id,"Img.SetColor("+n):this.Draw("o",n)},t.SetTextSize=function(n){t._auto?prompt(t.id,"Img.SetTextSize("+n):this.Draw("x",null,n)},t.SetFontFile=function(n){t._auto?prompt(t.id,"Img.SetFontFile(\f"+n):this.Draw("f",n)},t.SetLineWidth=function(n){t._auto?prompt(t.id,"Img.SetLineWidth("+n):this.Draw("w",null,n)},t.SetPaintColor=function(n){t._auto?prompt(t.id,"Img.SetPaintColor("+n):this.Draw("n",n)},t.SetPaintStyle=function(n){t._auto?prompt(t.id,"Img.SetPaintStyle("+n):this.Draw("s",n)},t.Rotate=function(n,i,r){prompt(t.id,"Img.Rotate("+n+"\f"+i+"\f"+r)},t.Move=function(n,i){prompt(t.id,"Img.Move("+n+"\f"+i)},t.Scale=function(n,i){prompt(t.id,"Img.Scale("+n+"\f"+i)},t.Skew=function(n,i){prompt(t.id,"Img.Skew("+n+"\f"+i)},t.Transform=function(n){prompt(t.id,"Img.Transform(\f"+n)},t.Reset=function(){prompt(t.id,"Img.Reset(")},t.Save=function(n,i){prompt(t.id,"Img.Save\f"+n+"\f"+i)},t.Draw=function(n,i,r,u,f,e,o,s){t._gfb.length>2&&(t._gfb+="\f");t._gfb+=n+"�"+i+"�"+r+"�"+u+"�"+f+"�"+e+"�"+o+"�"+s},t}function Btn(n){var t=new Obj(n);return t.GetType=function(){return"Button"},t.SetOnTouch=function(n){prompt(t.id,"Btn.SetOnClick("+(n?n.name:null))},t.SetOnTouchEx=function(n){prompt(t.id,"Btn.SetOnClick("+(n?n.name:null))},t.SetText=function(n){prompt(t.id,"Btn.SetText("+n)},t.SetHtml=function(n){prompt(t.id,"Btn.SetHtml("+n)},t.GetText=function(){return prompt(t.id,"Btn.GetText(")},t.SetTextColor=function(n){prompt(t.id,"Btn.SetTextColor("+n)},t.SetFontFile=function(n){prompt(t.id,"Btn.SetFontFile(\f"+n)},t.SetTextShadow=function(n,i,r,u){prompt(t.id,"Btn.SetTextShadow(\f"+n+"\f"+i+"\f"+r+"\f"+u)},t.SetTextSize=function(n,i){prompt(t.id,"Btn.SetTextSize(\f"+n+"\f"+i)},t.GetTextSize=function(n){return parseFloat(prompt(t.id,"Btn.GetTextSize(\f"+n))},t.SetBackColor=function(n){prompt(t.id,"Btn.SetBackColor(\f"+n)},t.SetStyle=function(n,i,r,u,f,e){prompt(t.id,"Btn.SetStyle(\f"+n+"\f"+i+"\f"+r+"\f"+u+"\f"+f+"\f"+e)},t}function Tgl(n){var t=new Obj(n);return t.GetType=function(){return"Toggle"},t.SetOnTouch=function(n){prompt(t.id,"Tgl.SetOnClick("+n.name)},t.SetText=function(n){prompt(t.id,"Tgl.SetText("+n)},t.GetText=function(){return prompt(t.id,"Tgl.GetText(")},t.SetTextColor=function(n){prompt(t.id,"Tgl.SetTextColor("+n)},t.SetTextSize=function(n,i){prompt(t.id,"Tgl.SetTextSize(\f"+n+"\f"+i)},t.GetTextSize=function(n){return parseFloat(prompt(t.id,"Tgl.GetTextSize(\f"+n))},t.SetChecked=function(n){prompt(t.id,"Tgl.SetChecked("+n)},t.GetChecked=function(){return prompt(t.id,"Tgl.GetChecked(")=="true"},t}function Chk(n){var t=new Obj(n);return t.GetType=function(){return"CheckBox"},t.SetOnTouch=function(n){prompt(t.id,"Chk.SetOnClick("+n.name)},t.SetText=function(n){prompt(t.id,"Chk.SetText("+n)},t.GetText=function(){return prompt(t.id,"Chk.GetText(")},t.SetTextColor=function(n){prompt(t.id,"Chk.SetTextColor("+n)},t.SetTextSize=function(n,i){prompt(t.id,"Chk.SetTextSize(\f"+n+"\f"+i)},t.GetTextSize=function(n){return parseFloat(prompt(t.id,"Chk.GetTextSize(\f"+n))},t.SetChecked=function(n){prompt(t.id,"Chk.SetChecked("+n)},t.GetChecked=function(){return prompt(t.id,"Chk.GetChecked(")=="true"},t}function Spn(n){var t=new Obj(n);return t.GetType=function(){return"Spinner"},t.SetOnTouch=function(n){prompt(t.id,"Spn.SetOnClick("+n.name)},t.SetOnChange=function(n){prompt(t.id,"Spn.SetOnClick("+n.name)},t.SetText=function(n){prompt(t.id,"Spn.SetText("+n)},t.SelectItem=function(n){prompt(t.id,"Spn.SetText("+n)},t.GetText=function(){return prompt(t.id,"Spn.GetText(")},t.SetTextColor=function(n){prompt(t.id,"Spn.SetTextColor("+n)},t.SetTextSize=function(n,i){prompt(t.id,"Spn.SetTextSize(\f"+n+"\f"+i)},t.GetTextSize=function(n){return parseFloat(prompt(t.id,"Spn.GetTextSize(\f"+n))},t.SetList=function(n,i){prompt(t.id,"Spn.SetList(\f"+n+"\f"+i)},t}function Skb(n){var t=new Obj(n);return t.GetType=function(){return"SeekBar"},t.SetOnTouch=function(n){prompt(t.id,"Skb.SetOnClick("+n.name)},t.GetValue=function(){return parseFloat(prompt(t.id,"Skb.GetValue("))},t.SetValue=function(n){prompt(t.id,"Skb.SetValue("+n)},t.SetRange=function(n){prompt(t.id,"Skb.SetRange("+n)},t.SetMaxRate=function(n){prompt(t.id,"Skb.SetMaxRate("+n)},t}function Ibn(n){var t=new Obj(n);return t.GetType=function(){return"ImageButton"},t.SetOnTouch=function(n){prompt(t.id,"Ibn.SetOnClick("+n.name)},t.SetText=function(n){prompt(t.id,"Ibn.SetText("+n)},t.SetTextColor=function(n){prompt(t.id,"Ibn.SetTextColor("+n)},t.SetTextSize=function(n,i){prompt(t.id,"Ibn.SetTextSize(\f"+n+"\f"+i)},t.GetTextSize=function(n){return parseFloat(prompt(t.id,"Ibn.GetTextSize(\f"+n))},t}function Txt(n){var t=new Obj(n);return t.GetType=function(){return"Text"},t.SetText=function(n){prompt(t.id,"Txt.SetText("+n)},t.SetHtml=function(n){prompt(t.id,"Txt.SetHtml("+n)},t.Log=function(n,i){prompt(t.id,"Txt.Log(\f"+n+"\f"+i)},t.SetTextSize=function(n,i){prompt(t.id,"Txt.SetTextSize(\f"+n+"\f"+i)},t.GetTextSize=function(n){return parseFloat(prompt(t.id,"Txt.GetTextSize(\f"+n))},t.GetText=function(){return prompt(t.id,"Txt.GetText(")},t.SetTextColor=function(n){prompt(t.id,"Txt.SetTextColor("+n)},t.SetFontFile=function(n){prompt(t.id,"Txt.SetFontFile(\f"+n)},t.GetLineCount=function(){return parseInt(prompt(t.id,"Txt.GetLineCount("))},t.GetMaxLines=function(){return parseInt(prompt(t.id,"Txt.GetMaxLines("))},t.GetLineTop=function(n){return parseFloat(prompt(t.id,"Txt.GetLineTop("+n))},t.GetLineStart=function(n){return parseInt(prompt(t.id,"Txt.GetLineStart("+n))},t.SetEllipsize=function(n){prompt(t.id,"Txt.SetEllipsize(\f"+n)},t.SetTextShadow=function(n,i,r,u){prompt(t.id,"Txt.SetTextShadow(\f"+n+"\f"+i+"\f"+r+"\f"+u)},t.SetOnTouch=function(n){prompt(t.id,"Txt.SetOnTouch("+n.name)},t.SetOnTouchUp=function(n){prompt(t.id,"Txt.SetOnTouchUp("+n.name)},t.SetOnTouchMove=function(n){prompt(t.id,"Txt.SetOnTouchMove("+n.name)},t.SetOnTouchDown=function(n){prompt(t.id,"Txt.SetOnTouchDown("+n.name)},t.SetOnLongTouch=function(n){prompt(t.id,"Txt.SetOnLongTouch("+n.name)},t.SetTouchable=function(n){prompt(t.id,"Txt.SetTouchable("+n)},t}function Txe(n){var t=new Obj(n);return t.GetType=function(){return"TextEdit"},t.SetText=function(n){prompt(t.id,"Txe.SetText("+n)},t.SetHtml=function(n){prompt(t.id,"Txe.SetHtml("+n)},t.GetHtml=function(){return prompt(t.id,"Txe.GetHtml(")},t.SetHint=function(n){prompt(t.id,"Txe.SetHint("+n)},t.InsertText=function(n,i){prompt(t.id,"Txe.InsertText(\f"+n+"\f"+i)},t.ReplaceText=function(n,i,r){prompt(t.id,"Txe.ReplaceText(\f"+n+"\f"+i+"\f"+r)},t.GetText=function(){return prompt(t.id,"Txe.GetText(")},t.SetOnChange=function(n){prompt(t.id,"Txe.SetOnChange(\f"+n.name)},t.SetOnTouch=function(n){prompt(t.id,"Txe.SetOnTouch(\f"+n.name)},t.SetTextColor=function(n){prompt(t.id,"Txe.SetTextColor("+n)},t.SetTextSize=function(n,i){prompt(t.id,"Txe.SetTextSize(\f"+n+"\f"+i)},t.GetTextSize=function(n){return parseFloat(prompt(t.id,"Txe.GetTextSize(\f"+n))},t.GetLineCount=function(){return parseInt(prompt(t.id,"Txe.GetLineCount("))},t.GetMaxLines=function(){return parseInt(prompt(t.id,"Txe.GetMaxLines("))},t.GetLineTop=function(n){return parseFloat(prompt(t.id,"Txe.GetLineTop("+n))},t.GetLineStart=function(n){return parseInt(prompt(t.id,"Txe.GetLineStart("+n))},t.SetCursorPos=function(n){prompt(t.id,"Txe.SetCursorPos("+n)},t.GetCursorPos=function(){return parseInt(prompt(t.id,"Txe.GetCursorPos("))},t.GetCursorLine=function(){return parseInt(prompt(t.id,"Txe.GetCursorLine("))},t.SetSelection=function(n,i){prompt(t.id,"Txe.SetSelection(\f"+n+"\f"+i)},t.GetSelectedText=function(){return prompt(t.id,"Txe.GetSelectedText(")},t.GetSelectionStart=function(){return parseInt(prompt(t.id,"Txe.GetSelectionStart("))},t.GetSelectionEnd=function(){return parseInt(prompt(t.id,"Txe.GetSelectionEnd("))},t.Undo=function(){prompt(t.id,"Txe.Undo(")},t.Redo=function(){prompt(t.id,"Txe.Redo(")},t.ClearHistory=function(){prompt(t.id,"Txe.ClearHistory(")},t}function Lst(n){var t=new Obj(n);return t.GetType=function(){return"List"},t.SetPadding=function(n,t,i,r){prompt(this.id,"Lst.SetPadding("+n+"\f"+t+"\f"+i+"\f"+r)},t.SetList=function(n,t){prompt(this.id,"Lst.SetList(\f"+n+"\f"+t)},t.GetList=function(n){return eval(prompt(t.id,"Lst.GetList("+n))},t.AddItem=function(n,i,r){prompt(t.id,"Lst.AddItem(\f"+n+"\f"+i+"\f"+r)},t.InsertItem=function(n,i,r,u){prompt(t.id,"Lst.InsertItem(\f"+n+"\f"+i+"\f"+r+"\f"+u)},t.SetItem=function(n,i,r,u){prompt(t.id,"Lst.SetItem(\f"+n+"\f"+i+"\f"+r+"\f"+u)},t.SetItemByIndex=function(n,i,r,u){prompt(t.id,"Lst.SetItemByIndex(\f"+n+"\f"+i+"\f"+r+"\f"+u)},t.RemoveItem=function(n){prompt(t.id,"Lst.RemoveItem(\f"+n)},t.RemoveItemByIndex=function(n){prompt(t.id,"Lst.RemoveItemByIndex(\f"+n)},t.RemoveAll=function(){prompt(t.id,"Lst.RemoveAll(")},t.SelectItem=function(n,i,r){var u="Lst.SelectItem(\f"+n+"\f"+i+"\f"+r;prompt(t.id,u)},t.SelectItemByIndex=function(n,i){var r="Lst.SelectItemByIndex(\f"+n+"\f"+i;prompt(t.id,r)},t.GetItem=function(n){var i="Lst.GetItem(\f"+n;return eval(prompt(t.id,i))},t.GetItemByIndex=function(n){var i="Lst.GetItemByIndex(\f"+n;return eval(prompt(t.id,i))},t.GetLength=function(){return parseInt(prompt(t.id,"Lst.GetLength("))},t.ScrollToItem=function(n,i){var r="Lst.ScrollToItem(\f"+n+"\f"+i;prompt(t.id,r)},t.ScrollToItemByIndex=function(n){var i="Lst.ScrollToItemByIndex(\f"+n;prompt(t.id,i)},t.SetOnTouch=function(n){prompt(t.id,"Lst.SetOnClick("+n.name)},t.SetOnLongTouch=function(n){prompt(t.id,"Lst.SetOnLongClick("+n.name)},t.SetTextColor=function(n){prompt(t.id,"Lst.SetTextColor1("+n)},t.SetTextColor1=function(n){prompt(t.id,"Lst.SetTextColor1("+n)},t.SetTextColor2=function(n){prompt(t.id,"Lst.SetTextColor2("+n)},t.SetHiTextColor1=function(n){prompt(t.id,"Lst.SetHiTextColor1("+n)},t.SetHiTextColor2=function(n){prompt(t.id,"Lst.SetHiTextColor2("+n)},t.SetTextSize=function(n,i){prompt(t.id,"Lst.SetTextSize1(\f"+n+"\f"+i)},t.SetTextSize1=function(n,i){prompt(t.id,"Lst.SetTextSize1(\f"+n+"\f"+i)},t.SetTextSize2=function(n,i){prompt(t.id,"Lst.SetTextSize2(\f"+n+"\f"+i)},t.GetTextSize=function(n){return parseFloat(prompt(t.id,"Lst.GetTextSize(\f"+n))},t.SetTextMargins=function(n,t,i,r){prompt(this.id,"Lst.SetTextMargins("+n+"\f"+t+"\f"+i+"\f"+r)},t.SetEllipsize=function(n){prompt(t.id,"Lst.SetEllipsize1(\f"+n)},t.SetEllipsize1=function(n){prompt(t.id,"Lst.SetEllipsize1(\f"+n)},t.SetEllipsize2=function(n){prompt(t.id,"Lst.SetEllipsize2(\f"+n)},t.SetTextShadow=function(n,i,r,u){prompt(t.id,"Lst.SetTextShadow1(\f"+n+"\f"+i+"\f"+r+"\f"+u)},t.SetTextShadow1=function(n,i,r,u){prompt(t.id,"Lst.SetTextShadow1(\f"+n+"\f"+i+"\f"+r+"\f"+u)},t.SetTextShadow2=function(n,i,r,u){prompt(t.id,"Lst.SetTextShadow2(\f"+n+"\f"+i+"\f"+r+"\f"+u)},t.SetDivider=function(n,i){prompt(t.id,"Lst.SetDivider(\f"+n+"\f"+i)},t.SetFontFile=function(n){prompt(t.id,"Lst.SetFontFile(\f"+n)},t}function Web(n){var t=new Obj(n);return t.GetType=function(){return"WebView"},t.SetOnProgress=function(n){prompt(t.id,"Web.SetOnProgress("+n.name)},t.LoadHtml=function(n,i,r){prompt(t.id,"Web.LoadHtml(\f"+n+"\f"+i+"\f"+r)},t.LoadUrl=function(n,i){prompt(t.id,"Web.LoadUrl(\f"+n+"\f"+i)},t.Back=function(){prompt(t.id,"Web.Back(")},t.Forward=function(){prompt(t.id,"Web.Forward(")},t.CanGoBack=function(){return prompt(t.id,"Web.CanGoBack(")=="true"},t.CanGoForward=function(){return prompt(t.id,"Web.CanGoForward(")=="true"},t.Execute=function(n){prompt(t.id,"Web.Execute("+n)},t.ClearHistory=function(){prompt(t.id,"Web.ClearHistory(")},t.GetUrl=function(){return prompt(t.id,"Web.GetUrl(")},t.Capture=function(n){prompt(t.id,"Web.Capture(\f"+n)},t.Print=function(){prompt(t.id,"Web.Print(\f")},t}function Scr(n){var t=new Obj(n);return t.GetType=function(){return"Scroller"},t.AddChild=function(n){prompt(t.id,"Scr.AddChild(\f"+(n?n.id:null))},t.RemoveChild=function(n){prompt(t.id,"Scr.RemoveChild(\f"+(n?n.id:null))},t.DestroyChild=function(n){prompt(t.id,"Scr.DestroyChild(\f"+(n?n.id:null))},t.ScrollTo=function(n,i){prompt(t.id,"Scr.ScrollTo\f"+n+"\f"+i)},t.ScrollBy=function(n,i){prompt(t.id,"Scr.ScrollBy\f"+n+"\f"+i)},t.GetScrollX=function(){return parseFloat(prompt(t.id,"Scr.GetScrollX("))},t.GetScrollY=function(){return parseFloat(prompt(t.id,"Scr.GetScrollY("))},t}function Dlg(n){var t=new Obj(n);return t.GetType=function(){return"Dialog"},t.SetOnTouch=function(n){prompt(t.id,"Dlg.SetOnClick("+n.name)},t.AddLayout=function(n){prompt(t.id,"Dlg.AddLayout("+n.id)},t.RemoveLayout=function(n){prompt(t.id,"Dlg.RemoveLayout("+n.id)},t.Show=function(){prompt(t.id,"Dlg.Show(")},t.Hide=function(){prompt(t.id,"Dlg.Hide(")},t.Dismiss=function(){prompt(t.id,"Dlg.Dismiss(")},t.SetTitle=function(n){prompt(t.id,"Dlg.SetTitle(\f"+n)},t.SetOnCancel=function(n){prompt(t.id,"Dlg.SetOnCancel(\f"+n.name)},t}function Ynd(n){var t=new Obj(n);return t.GetType=function(){return"YesNoDialog"},t.SetOnTouch=function(n){prompt(t.id,"Ynd.SetOnClick("+n.name)},t}function Lvw(n){var t=new Obj(n);return t.GetType=function(){return"ListView"},t.SetOnTouch=function(n){prompt(t.id,"Lvw.SetOnClick("+n.name)},t}function Ldg(n){var t=new Obj(n);return t.GetType=function(){return"ListDialog"},t.SetOnTouch=function(n){prompt(t.id,"Ldg.SetOnClick("+n.name)},t}function Btl(n){var t=new Obj(n);return t.GetType=function(){return"BluetoothList"},t.SetOnTouch=function(n){prompt(t.id,"Btl.SetOnClick("+n.name)},t.SetOnTouchEx=function(n){prompt(t.id,"Btl.SetOnClick("+n)},t}function Net(n){var t=new Obj(n);return t.GetType=function(){return"NetClient"},t.Connect=function(n,i){return prompt(t.id,"Net.Connect("+n+"\f"+i)=="true"},t.SetOnConnect=function(n){prompt(t.id,"Net.SetOnConnect("+n.name)},t.Disconnect=function(){prompt(t.id,"Net.Disconnect(")},t.IsEnabled=function(){return prompt(t.id,"Net.IsEnabled(")=="true"},t.IsConnected=function(){return prompt(t.id,"Net.IsConnected(")=="true"},t.SetTimeout=function(n){prompt(t.id,"Net.SetTimeout("+n)},t.SendText=function(n,i){prompt(t.id,"Net.SendText("+n+"\f"+i)},t.SendBytes=function(n,i){prompt(t.id,"Net.SendBytes(\f"+n+"\f"+i)},t.ReceiveText=function(n){return prompt(t.id,"Net.ReceiveText("+n)},t.ReceiveBytes=function(n){return eval(prompt(t.id,"Net.ReceiveBytes(\f"+n))},t.ReceiveFile=function(n,i){return prompt(t.id,"Net.ReceiveFile("+n+"\f"+i)},t.DownloadFile=function(n){return prompt(t.id,"Net.DownloadFile("+n)},t.SetOnDownload=function(n){prompt(t.id,"Net.SetOnDownload("+n.name)},t.GetBroadcastAddress=function(){return prompt(t.id,"Net.GetBroadcastAddress(")},t.SendDatagram=function(n,i,r,u,f){prompt(t.id,"Net.SendDatagram(\f"+n+"\f"+i+"\f"+r+"\f"+u+"\f"+f)},t.ReceiveDatagram=function(n,i,r){return prompt(t.id,"Net.ReceiveDatagram("+n+"\f"+i+"\f"+r)},t.ReceiveDatagrams=function(n,i){prompt(t.id,"Net.ReceiveDatagrams(\f"+n+"\f"+i)},t.SetOnReceive=function(n){prompt(t.id,"Net.SetOnReceive("+n.name)},t.AutoReceive=function(n,i,r){return prompt(t.id,"Net.AutoReceive("+n+"\f"+i+"\f"+r)},t}function Aud(n){var t=new Obj(n);return t.GetType=function(){return"MediaPlayer"},t.SetFile=function(n){prompt(t.id,"Aud.SetFile("+n)},t.SetLooping=function(n){prompt(t.id,"Aud.SetLooping(\f"+n)},t.Close=function(){prompt(t.id,"Aud.Close(")},t.Release=function(){prompt(t.id,"Aud.Release(");_map[t.id]=null},t.Destroy=function(){prompt(t.id,"Aud.Release(");_map[t.id]=null},t.Play=function(){prompt(t.id,"Aud.Play(")},t.Pause=function(){prompt(t.id,"Aud.Pause(")},t.Stop=function(){prompt(t.id,"Aud.Stop(")},t.IsReady=function(){return prompt(t.id,"Aud.IsReady(")=="true"},t.IsPlaying=function(){return prompt(t.id,"Aud.IsPlaying(")=="true"},t.IsLooping=function(){return prompt(t.id,"Aud.IsLooping(")=="true"},t.SeekTo=function(n){prompt(t.id,"Aud.SeekTo("+n)},t.GetPosition=function(){return parseFloat(prompt(t.id,"Aud.GetPosition("))},t.GetDuration=function(){return parseFloat(prompt(t.id,"Aud.GetDuration("))},t.SetVolume=function(n,i){prompt(t.id,"Aud.SetVolume("+n+"\f"+i)},t.SetOnReady=function(n){prompt(t.id,"Aud.SetOnReady("+n.name)},t.SetOnComplete=function(n){prompt(t.id,"Aud.SetOnComplete("+n.name)},t.SetOnSeekDone=function(n){prompt(t.id,"Aud.SetOnSeekDone("+n.name)},t}function Dwn(n){var t=new Obj(n);return t.GetType=function(){return"Downloader"},t.Download=function(n,i){prompt(t.id,"Dwn.Download(\f"+n+"\f"+i)},t.IsComplete=function(){return prompt(t.id,"Dwn.IsComplete(")=="true"},t.GetProgress=function(){return parseFloat(prompt(t.id,"Dwn.GetProgress("))},t.GetSize=function(){return parseFloat(prompt(t.id,"Dwn.GetSize("))},t.SetOnComplete=function(n){prompt(t.id,"Dwn.SetOnComplete(\f"+n.name)},t.SetOnError=function(n){prompt(t.id,"Dwn.SetOnError(\f"+n.name)},t}function Med(n){var t=new Obj(n);return t.GetType=function(){return"MediaStore"},t.QueryMedia=function(n,i,r){prompt(t.id,"Med.QueryMedia(\f"+n+"\f"+i+"\f"+r)},t.SetOnMediaResult=function(n){prompt(t.id,"Med.SetOnMediaResult(\f"+n.name)},t.QueryArtists=function(n,i,r){prompt(t.id,"Med.QueryArtists(\f"+n+"\f"+i+"\f"+r)},t.SetOnArtistsResult=function(n){prompt(t.id,"Med.SetOnArtistsResult(\f"+n.name)},t.QueryAlbums=function(n,i,r){prompt(t.id,"Med.QueryAlbums(\f"+n+"\f"+i+"\f"+r)},t.SetOnAlbumsResult=function(n){prompt(t.id,"Med.SetOnAlbumsResult(\f"+n.name)},t.GetAlbumArt=function(n,i,r){return prompt(t.id,"Med.GetAlbumArt(\f"+(n?n.id:null)+"\f"+i+"\f"+r)=="true"},t.GetSongArt=function(n,i,r){return prompt(t.id,"Med.GetSongArt(\f"+(n?n.id:null)+"\f"+i+"\f"+r)=="true"},t}function Ply(n){var t=new Obj(n);return t.GetType=function(){return"PlayStore"},t.GetBillingInfo=function(n,i,r){ret=prompt(t.id,"Ply.GetBillingInfo(\f"+n+"\f"+i.name+"\f"+r)},t.Purchase=function(n,i,r,u){ret=prompt(t.id,"Ply.Purchase(\f"+n+"\f"+i+"\f"+r.name+"\f"+u)},t.GetPurchases=function(n,i){ret=prompt(t.id,"Ply.GetPurchases(\f"+n.name+"\f"+i)},t}function Rec(n){var t=new Obj(n);return t.GetType=function(){return"AudioRecorder"},t.SetFile=function(n){prompt(t.id,"Rec.SetFile("+n)},t.Start=function(n){prompt(t.id,"Rec.Start("+n)},t.Stop=function(){prompt(t.id,"Rec.Stop(")},t.Pause=function(){prompt(t.id,"Rec.Pause(")},t.GetRMS=function(){return parseFloat(prompt(t.id,"Rec.GetRMS("))},t.GetPeak=function(){return parseFloat(prompt(t.id,"Rec.GetPeak("))},t}function Sns(n){var t=new Obj(n);return t.GetType=function(){return"Sensor"},t.SetOnChange=function(n){prompt(t.id,"Sns.SetOnChange("+n.name)},t.SetMinChange=function(n){prompt(t.id,"Sns.SetMinChange("+n)},t.SetMaxRate=function(n){prompt(t.id,"Sns.SetMaxRate(\f"+n)},t.GetNames=function(){return prompt(t.id,"Sns.GetNames(")},t.Start=function(){prompt(t.id,"Sns.Start(")},t.Stop=function(){prompt(t.id,"Sns.Stop(")},t.GetAzimuth=function(){return parseFloat(prompt(t.id,"Sns.GetAzimuth("))},t.GetPitch=function(){return parseFloat(prompt(t.id,"Sns.GetPitch("))},t.GetRoll=function(){return parseFloat(prompt(t.id,"Sns.GetRoll("))},t.GetValues=function(){return eval(prompt(t.id,"Sns.GetValues("))},t}function Loc(n){var t=new Obj(n);return t.GetType=function(){return"Locator"},t.SetOnChange=function(n){prompt(t.id,"Loc.SetOnChange("+n.name)},t.Start=function(){prompt(t.id,"Loc.Start(")},t.Stop=function(){prompt(t.id,"Loc.Stop(")},t.SetRate=function(n){prompt(t.id,"Loc.SetRate("+n)},t.GetDistanceTo=function(n,i){return parseFloat(prompt(t.id,"Loc.GetDistanceTo("+n+"\f"+i))},t.GetBearingTo=function(n,i){return parseFloat(prompt(t.id,"Loc.GetBearingTo("+n+"\f"+i))},t}function Pst(n){var t=new Obj(n);return t.GetType=function(){return"PhoneState"},t.SetOnChange=function(n){prompt(t.id,"Pst.SetOnChange("+n.name)},t.Start=function(){prompt(t.id,"Pst.Start(")},t.Stop=function(){prompt(t.id,"Pst.Stop(")},t}function Cam(n){var t=new Obj(n);return t.GetType=function(){return"CameraView"},t.StartPreview=function(){prompt(t.id,"Cam.StartPreview(")},t.StopPreview=function(){prompt(t.id,"Cam.StopPreview(")},t.Focus=function(){prompt(t.id,"Cam.Focus(")},t.SetFocusMode=function(n){prompt(t.id,"Cam.SetFocusMode(\f"+n)},t.SetZoom=function(n){prompt(t.id,"Cam.SetZoom(\f"+n)},t.GetZoom=function(){return parseInt(prompt(t.id,"Cam.GetZoom("))},t.GetMaxZoom=function(){return parseInt(prompt(t.id,"Cam.GetMaxZoom("))},t.SetPictureSize=function(n,i){prompt(t.id,"Cam.SetPictureSize("+n+"\f"+i)},t.GetPictureSizes=function(){return prompt(t.id,"Cam.GetPictureSizes(")},t.SetColorEffect=function(n){prompt(t.id,"Cam.SetColorEffect(\f"+n)},t.GetColorEffects=function(){return prompt(t.id,"Cam.GetColorEffects(")},t.TakePicture=function(n){prompt(t.id,"Cam.TakePicture("+n)},t.Record=function(n,i){prompt(t.id,"Cam.Record(\f"+n+"\f"+i)},t.IsRecording=function(){return prompt(t.id,"Cam.IsRecording(")=="true"},t.Stop=function(){prompt(t.id,"Cam.Stop(")},t.Stream=function(n,i,r,u,f){prompt(t.id,"Cam.Stream("+n+"\f"+i+"\f"+r+"\f"+u+"\f"+f)},t.HasFlash=function(){return prompt(t.id,"Cam.HasFlash(")=="true"},t.SetFlash=function(n){prompt(t.id,"Cam.SetFlash("+n)},t.SetSound=function(n){prompt(t.id,"Cam.SetSound("+n)},t.GetImageWidth=function(){return parseInt(prompt(t.id,"Cam.GetImageWidth("))},t.GetImageHeight=function(){return parseInt(prompt(t.id,"Cam.GetImageHeight("))},t.GetCameraCount=function(){return parseInt(prompt(t.id,"Cam.GetCameraCount("))},t.SetPreviewImage=function(n){prompt(t.id,"Cam.SetPreviewImage("+(n?n.id:null))},t.SetDuplicateImage=function(n,i){prompt(t.id,"Cam.SetDuplicateImage(\f"+(n?n.id:null)+"\f"+(i?i.id:null))},t.MotionMosaic=function(n,i,r,u,f){prompt(t.id,"Cam.MotionMosaic("+n+"\f"+i+"\f"+r+"\f"+u+"\f"+(f?f.id:null))},t.ReportColors=function(n,i,r,u){prompt(t.id,"Cam.ReportColors(\f"+n+"\f"+(i?i.name:null)+"\f"+r+"\f"+u)},t.AutoCapture=function(n,i,r){prompt(t.id,"Cam.AutoCapture("+n+"\f"+i+"\f"+r)},t.SetOnReady=function(n){prompt(t.id,"Cam.SetOnReady("+n.name)},t.SetOnMotion=function(n){prompt(t.id,"Cam.SetOnMotion("+n.name)},t.SetOnPicture=function(n){prompt(t.id,"Cam.SetOnPicture\f"+n.name)},t.SetOnFocus=function(n){prompt(t.id,"Cam.SetOnFocus\f"+n.name)},t.GetPixelData=function(n,i,r,u,f){return prompt(t.id,"Cam.GetPixelData(\f"+n+"\f"+i+"\f"+r+"\f"+u+"\f"+f)},t.FindFaces=function(n){return eval(prompt(t.id,"Cam.FindFaces(\f"+n))},t.GetParameters=function(){return prompt(t.id,"Cam.GetParams(\f")},t.SetParameter=function(n,i){typeof i=="string"?prompt(t.id,"Cam.SetParam(\f"+n+"\f"+i):prompt(t.id,"Cam.SetParamNum(\f"+n+"\f"+i)},t}function Vid(n){var t=new Obj(n);return t.GetType=function(){return"VideoView"},t.SetFile=function(n){prompt(t.id,"Vid.SetFile("+n)},t.Play=function(){prompt(t.id,"Vid.Play(")},t.Pause=function(){prompt(t.id,"Vid.Pause(")},t.Stop=function(){prompt(t.id,"Vid.Stop(")},t.IsReady=function(){return prompt(t.id,"Vid.IsReady(")=="true"},t.IsPlaying=function(){return prompt(t.id,"Vid.IsPlaying(")=="true"},t.SeekTo=function(n){prompt(t.id,"Vid.SeekTo("+n)},t.GetPosition=function(){return parseFloat(prompt(t.id,"Vid.GetPosition("))},t.GetDuration=function(){return parseFloat(prompt(t.id,"Vid.GetDuration("))},t.SetOnReady=function(n){prompt(t.id,"Vid.SetOnReady("+n.name)},t.SetOnComplete=function(n){prompt(t.id,"Vid.SetOnComplete("+n.name)},t.SetOnError=function(n){prompt(t.id,"Vid.SetOnError("+n.name)},t}function GLV(n){var t=new Obj(n);return t.GetType=function(){return"GLView"},t.Release=function(){prompt(t.id,"GLV.Release(");_map[t.id]=null},t.Destroy=function(){prompt(t.id,"GLV.Release(");_map[t.id]=null},t.Execute=function(n,i,r,u){prompt(t.id,"GLV.Execute(\f"+n+"\f"+i+"\f"+r+"\f"+u)},t.Exec=function(n,t,i,r){_gfx.Exec(n,t,i,r)},t.SetOnTouch=function(n){prompt(t.id,"GLV.SetOnTouch(\f"+n.name)},t.SetOnTouchUp=function(n){prompt(t.id,"GLV.SetOnTouchUp(\f"+n.name)},t.SetOnTouchMove=function(n){prompt(t.id,"GLV.SetOnTouchMove(\f"+n.name)},t.SetOnTouchDown=function(n){prompt(t.id,"GLV.SetOnTouchDown(\f"+n.name)},t.SetTouchable=function(n){prompt(t.id,"GLV.SetTouchable(\f"+n)},t}function WGL(n){var t=new Obj(n);return t.GetType=function(){return"WebGLView"},t.Release=function(){prompt(t.id,"WGL.Release(");_map[t.id]=null},t.Destroy=function(){prompt(t.id,"WGL.Release(");_map[t.id]=null},t.Execute=function(n,i,r,u){prompt(t.id,"WGL.Execute(\f"+n+"\f"+i+"\f"+r+"\f"+u)},t.Exec=function(n,t,i,r){_gfx.Exec(n,t,i,r)},t.SetOnTouch=function(n){prompt(t.id,"WGL.SetOnTouch(\f"+n.name)},t.SetOnTouchUp=function(n){prompt(t.id,"WGL.SetOnTouchUp(\f"+n.name)},t.SetOnTouchMove=function(n){prompt(t.id,"WGL.SetOnTouchMove(\f"+n.name)},t.SetOnTouchDown=function(n){prompt(t.id,"WGL.SetOnTouchDown(\f"+n.name)},t.SetTouchable=function(n){prompt(t.id,"WGL.SetTouchable(\f"+n)},t}function Nxt(n,t){var i=new Obj(n),r=t;return i.GetType=function(){return"NxtRemote"},i.Connect=function(n){return prompt(i.id,"Nxt.Connect("+n)=="true"},i.SetOnConnect=function(n){prompt(i.id,"Nxt.SetOnConnect("+n.name)},i.SetOnConnectEx=function(n){prompt(i.id,"Nxt.SetOnConnect("+n)},i.Disconnect=function(){prompt(i.id,"Nxt.Disconnect(")},i.IsEnabled=function(){return prompt(i.id,"Nxt.IsEnabled(")=="true"},i.IsBluetoothEnabled=function(){return prompt(i.id,"Nxt.IsEnabled(")=="true"},i.RequestEnable=function(){prompt(i.id,"Nxt.RequestEnable(")},i.IsPaired=function(n){return prompt(i.id,"Nxt.IsPaired("+n)=="true"},i.IsConnected=function(){return prompt(i.id,"Nxt.IsConnected(")=="true"},i.IsMotorIdle=function(n){return prompt(i.id,"Nxt.IsMotorIdle("+n)=="true"},i.GetRotationCount=function(n){return parseFloat(prompt(i.id,"Nxt.GetRotationCount(\f"+n))},i.Beep=function(n,t){prompt(i.id,"Nxt.Beep("+n+"\f"+t)},i.SetInvert=function(n){prompt(i.id,"Nxt.SetInvert("+n)},i.Drive=function(n,t,r,u){prompt(i.id,"Nxt.Drive("+n+"\f"+t+"\f"+r+"\f"+u)},i.Brake=function(n){prompt(i.id,"Nxt.Brake("+n)},i.Stop=function(n){prompt(i.id,"Nxt.Stop("+n)},i.Reset=function(n){prompt(i.id,"Nxt.Reset(\f"+n)},i.SendMail=function(n,t,r){prompt(i.id,"Nxt.SendMail("+n+"\f"+t+"\f"+r)},i.ReadMail=function(n,t,r){var u=prompt(i.id,"Nxt.ReadMail("+n+"\f"+t+"\f"+r);return t.toLowerCase()=="number"?parseFloat(u):t.toLowerCase()=="logic"?u=="true":u},i.SetLampColor=function(n,t){prompt(i.id,"Nxt.SetLampColor("+n+"\f"+t)},i.PlaySoundFile=function(n,t){prompt(i.id,"Nxt.PlaySoundFile("+n+"\f"+t)},i.ReadSoundSensor=function(n,t){return parseInt(prompt(i.id,"Nxt.ReadSoundSensor("+n+"\f"+t))},i.ReadColorSensor=function(n,t){return parseInt(prompt(i.id,"Nxt.ReadColorSensor("+n+"\f"+t))},i.ToColorName=function(n){return prompt(i.id,"Nxt.ToColorName("+n)},i.ReadLightSensor=function(n,t){return parseInt(prompt(i.id,"Nxt.ReadLightSensor("+n+"\f"+t))},i.ReadTouchSensor=function(n){return prompt(i.id,"Nxt.ReadTouchSensor("+n)=="1"},i.ReadDistanceSensor=function(n){return parseInt(prompt(i.id,"Nxt.ReadDistanceSensor("+n))},i.GetCurrentProgram=function(){return prompt(i.id,"Nxt.GetCurrentProgram(")},i.StartProgram=function(n){prompt(i.id,"Nxt.StartProgram("+n)},i.StopProgram=function(){prompt(i.id,"Nxt.StopProgram(")},i.FileFindFirst=function(n){_inf&&_inf.Release();var t=prompt(i.id,"Nxt.FileFindFirst("+n);return _inf=t?new Inf(t):null},i.FileFindNext=function(n){_inf&&_inf.Release();var t=prompt(i.id,"Nxt.FileFindNext("+n);return _inf=t?new Inf(t):null},i.ShowDevices=function(){r.nxt_ShowDevices()},i.CheckConnection=function(){return r.nxt_CheckConnection()},i.SetOnConnected=function(n){r.nxt_OnConnected=n},i.GetBtName=function(){return r.nxtName},i.GetBtAddress=function(){return r.nxtAddress},i}function Bts(n){var t=new Obj(n);return t.GetType=function(){return"BluetoothSerial"},t.Connect=function(n,i){return prompt(t.id,"Bts.Connect("+n+"\f"+i)=="true"},t.SetOnConnect=function(n){prompt(t.id,"Bts.SetOnConnect("+n.name)},t.Disconnect=function(){prompt(t.id,"Bts.Disconnect(")},t.IsBluetoothEnabled=function(){return prompt(t.id,"Bts.IsEnabled(")=="true"},t.RequestEnable=function(){prompt(t.id,"Bts.RequestEnable(")},t.IsPaired=function(n){return prompt(t.id,"Bts.IsPaired("+n)=="true"},t.IsConnected=function(){return prompt(t.id,"Bts.IsConnected(")=="true"},t.Write=function(n){prompt(t.id,"Bts.Write("+n)},t.SetOnReceive=function(n){prompt(t.id,"Bts.SetOnReceive("+n.name)},t.SetSplitMode=function(n,i,r){prompt(t.id,"Bts.SetSplitMode("+n+"\f"+i+"\f"+r)},t.SetTimeout=function(n){prompt(t.id,"Bts.SetTimeout("+n)},t.Clear=function(){prompt(t.id,"Bts.Clear(")},t}function Zip(n){var t=new Obj(n);return t.GetType=function(){return"ZipUtil"},t.Open=function(n){prompt(t.id,"Zip.Open(\f"+n)},t.Create=function(n){prompt(t.id,"Zip.Create(\f"+n)},t.Close=function(){prompt(t.id,"Zip.Close(")},t.List=function(n){return prompt(t.id,"Zip.List(\f"+n)},t.Extract=function(n,i){prompt(t.id,"Zip.Extract(\f"+n+"\f"+i)},t.AddFile=function(n,i){prompt(t.id,"Zip.AddFile(\f"+n+"\f"+i)},t.AddText=function(n,i){prompt(t.id,"Zip.AddText(\f"+n+"\f"+i)},t.CreateKey=function(n,i,r,u){prompt(t.id,"Zip.CreateKey(\f"+n+"\f"+i+"\f"+r+"\f"+u)},t.CreateDebugKey=function(n){prompt(t.id,"Zip.CreateDebugKey(\f"+n)},t.Sign=function(n,i,r,u){return prompt(t.id,"Zip.Sign(\f"+n+"\f"+i+"\f"+r+"\f"+u)=="true"},t.UpdateManifest=function(n,i,r,u,f,e){prompt(t.id,"Zip.UpdateManifest(\f"+n+"\f"+i+"\f"+r+"\f"+u+"\f"+f+"\f"+e)},t}function Not(n){var t=new Obj(n);return t.GetType=function(){return"Notification"},t.SetMessage=function(n,i,r){prompt(t.id,"Not.SetMessage(\f"+n+"\f"+i+"\f"+r)},t.Notify=function(n){prompt(t.id,"Not.Notify(\f"+n)},t.Cancel=function(n){prompt(t.id,"Not.Cancel(\f"+n)},t.SetLargeImage=function(n){n.id?prompt(t.id,"Not.SetLargeImage(\f"+(n?n.id:null)):prompt(t.id,"Not.SetLargeImageFile(\f"+n)},t.SetLights=function(n,i,r){prompt(t.id,"Not.SetLights(\f"+n+"\f"+i+"\f"+r)},t}function Crp(n){var t=new Obj(n);return t.GetType=function(){return"Crypt"},t.Hash=function(n,i){return prompt(t.id,"Crp.Hash\f"+n+"\f"+i)},t.Encrypt=function(n,i){return prompt(t.id,"Crp.Encrypt\f"+n+"\f"+i)},t.Decrypt=function(n,i){return prompt(t.id,"Crp.Decrypt\f"+n+"\f"+i)},t}function Spr(n){var t=new Obj(n);return t.GetType=function(){return"SpeechRec"},t.Recognize=function(){return prompt(t.id,"Spr.Recognize(")},t.Stop=function(){prompt(t.id,"Spr.Stop(")},t.Cancel=function(){prompt(t.id,"Spr.Cancel(")},t.GetRMS=function(){return parseFloat(prompt(t.id,"Spr.GetRMS("))},t.IsListening=function(){return prompt(t.id,"Spr.IsListening(")=="true"},t.SetOnReady=function(n){prompt(t.id,"Spr.SetOnReady(\f"+n.name)},t.SetOnResult=function(n){prompt(t.id,"Spr.SetOnResult(\f"+n.name)},t.SetOnError=function(n){prompt(t.id,"Spr.SetOnError(\f"+n.name)},t}function Inf(n){var t=new Obj(n);return t.GetType=function(){return"NxtInfo"},t.GetName=function(){return prompt(t.id,"Inf.GetName(")},t.GetHandle=function(){return parseInt(prompt(t.id,"Inf.GetHandle("))},t.GetSize=function(){return parseInt(prompt(t.id,"Inf.GetSize("))},t}function SMS(n){var t=new Obj(n);return t.GetType=function(){return"SMS"},t.Send=function(n,i,r){prompt(t.id,"SMS.Send(\f"+n+"\f"+i+"\f"+r)},t.SetOnStatus=function(n){prompt(t.id,"SMS.SetOnStatus("+n.name)},t.SetOnMessage=function(n){prompt(t.id,"SMS.SetOnMessage("+n.name)},t}function SMW(n){var t=new Obj(n);return t.GetType=function(){return"SmartWatch"},t.GetVersion=function(){return parseFloat(prompt(t.id,"SMW.GetVersion("))},t.ShowLayout=function(n,i,r){prompt(t.id,"SMW.ShowLayout("+(n?n.id:null)+"\f"+i+"\f"+r)},t.Vibrate=function(n,i,r){prompt(t.id,"SMW.Vibrate("+n+"\f"+i+"\f"+r)},t.ShowMessage=function(n){prompt(t.id,"SMW.ShowMessage("+n)},t.SetScreenState=function(n){prompt(t.id,"SMW.SetScreenState("+n)},t.SetMenu=function(n,i){prompt(t.id,"SMW.SetMenu("+n+"\f"+i)},t.StopApp=function(){prompt(t.id,"SMW.StopApp(")},t.SetOnStart=function(n){prompt(t.id,"SMW.SetOnStart("+n.name)},t.SetOnStop=function(n){prompt(t.id,"SMW.SetOnStop("+n.name)},t.SetOnShow=function(n){prompt(t.id,"SMW.SetOnShow("+n.name)},t.SetOnHide=function(n){prompt(t.id,"SMW.SetOnHide("+n.name)},t.SetOnTouch=function(n){prompt(t.id,"SMW.SetOnTouch("+n.name)},t.SetOnSwipe=function(n){prompt(t.id,"SMW.SetOnSwipe("+n.name)},t.SetOnBack=function(n){prompt(t.id,"SMW.SetOnBack("+n.name)},t.SetOnMenu=function(n){prompt(t.id,"SMW.SetOnMenu("+n.name)},t.SetOnBroadcast=function(n){prompt(t.id,"SMW.SetOnBroadcast(\f"+n.name)},t.CreateLayout=function(n,i){var r=prompt(t.id,"SMW.CreateLayout("+n+"\f"+i);return r?new Swl(r):null},t.AddLayout=function(n){prompt(t.id,"SMW.AddLayout("+n.id)},t.RemoveLayout=function(n){prompt(t.id,"SMW.RemoveLayout("+n.id)},t.CreateText=function(n,i,r,u){var f=prompt(t.id,"SMW.CreateText("+n+"\f"+i+"\f"+r+"\f"+u);return f?new Swt(f):null},t.CreateImage=function(n,i,r,u,f,e){var o=prompt(t.id,"SMW.CreateImage("+n+"\f"+i+"\f"+r+"\f"+u+"\f"+f+"\f"+e);return o?new Swi(o):null},t.CreateSensor=function(n,i){var r=prompt(t.id,"SMW.CreateSensor("+n+"\f"+i);return r?new Sws(r):null},t}function Swo(n){this.id=n;this.Release=function(){prompt(this.id,"Obj.Release(");_map[this.id]=null};this.Destroy=function(){prompt(this.id,"Obj.Release(");_map[this.id]=null};this.SetVisibility=function(n){prompt(this.id,"Obj.SetVisibility("+n)};this.GetVisibility=function(){return prompt(this.id,"Obj.GetVisibility(")};this.SetPadding=function(n,t,i,r){prompt(this.id,"Swo.SetPadding("+n+"\f"+t+"\f"+i+"\f"+r)};this.SetMargins=function(n,t,i,r){prompt(this.id,"Swo.SetMargins("+n+"\f"+t+"\f"+i+"\f"+r)};this.SetBackground=function(n,t){prompt(this.id,"Obj.SetBackground("+n+"\f"+t)};this.SetBackColor=function(n){prompt(this.id,"Obj.SetBackColor("+n)};this.SetBackGradient=function(n,t,i,r,u,f,e){prompt(this.id,"Obj.SetBackGradient(Linear\f"+n+"\f"+t+"\f"+i+"\f"+r+"\f"+u+"\f"+f+"\f"+e)};this.SetBackGradientRadial=function(n,t,i,r,u,f,e){prompt(this.id,"Obj.SetBackGradient(Radial\f"+n+"\f"+t+"\f"+i+"\f"+r+"\f"+u+"\f"+f+"\f"+e)};this.SetPosition=function(n,t,i,r){prompt(this.id,"Obj.SetPosition("+n+"\f"+t+"\f"+i+"\f"+r)};this.SetSize=function(n,t){prompt(this.id,"Obj.SetSize("+n+"\f"+t)};this.GetWidth=function(){return prompt(this.id,"Obj.GetWidth(")};this.GetHeight=function(){return prompt(this.id,"Obj.GetHeight(")}}function Swl(n){var t=new Swo(n);return t.GetType=function(){return"SmartWatchLayout"},t.SetOrientation=function(n){prompt(this.id,"Swl.SetOrientation("+n)},t.AddChild=function(n){prompt(this.id,"Swl.AddChild("+n.id)},t.RemoveChild=function(n){prompt(this.id,"Swl.RemoveChild("+n.id)},t}function Swt(n){var t=new Swo(n);return t.GetType=function(){return"SmartWatchText"},t.SetText=function(n){prompt(t.id,"Swt.SetText("+n)},t.SetHtml=function(n){prompt(t.id,"Swt.SetHtml("+n)},t.GetText=function(){return prompt(t.id,"Swt.GetText(")},t.SetTextColor=function(n){prompt(t.id,"Swt.SetTextColor("+n)},t.SetTextSize=function(n){prompt(t.id,"Swt.SetTextSize("+n)},t.GetLineCount=function(){return parseInt(prompt(t.id,"Swt.GetLineCount("))},t.GetMaxLines=function(){return parseInt(prompt(t.id,"Swt.GetMaxLines("))},t.GetLineTop=function(n){return parseFloat(prompt(t.id,"Swt.GetLineTop("+n))},t.GetLineStart=function(n){return parseInt(prompt(t.id,"Swt.GetLineStart("+n))},t}function Swi(n){var t=new Swo(n);return t.GetType=function(){return"SmartWatchImage"},t.SetAlpha=function(n){prompt(t.id,"Swi.SetAlpha("+n)},t.SetImage=function(n,i,r){typeof n=="string"?prompt(t.id,"Swi.LoadImage(\f"+n+"\f"+i+"\f"+r):prompt(t.id,"Swi.CopyImage(\f"+(n?n.id:null)+"\f"+i+"\f"+r)},t.GetImgHeight=function(){return parseFloat(prompt(t.id,"Swi.GetImgHeight("))},t.SetOnTouch=function(n){prompt(t.id,"Swi.SetOnTouch("+n.name)},t.SetTouchable=function(n){prompt(t.id,"Swi.SetTouchable("+n)},t.DrawPoint=function(n,i){prompt(t.id,"Swi.DrawPoint("+n+"\f"+i)},t.DrawCircle=function(n,i,r){prompt(t.id,"Swi.DrawCircle("+n+"\f"+i+"\f"+r)},t.DrawArc=function(n,i,r,u,f,e){prompt(t.id,"Swi.DrawArc("+n+"\f"+i+"\f"+r+"\f"+u+"\f"+f+"\f"+e)},t.DrawLine=function(n,i,r,u){prompt(t.id,"Swi.DrawLine("+n+"\f"+i+"\f"+r+"\f"+u)},t.DrawRectangle=function(n,i,r,u){prompt(t.id,"Swi.DrawRect("+n+"\f"+i+"\f"+r+"\f"+u)},t.DrawText=function(n,i,r){prompt(t.id,"Swi.DrawText("+n+"\f"+i+"\f"+r)},t.SetColor=function(n){prompt(t.id,"Swi.SetColor("+n)},t.SetTextSize=function(n){prompt(t.id,"Swi.SetTextSize("+n)},t.SetLineWidth=function(n){prompt(t.id,"Swi.SetLineWidth("+n)},t.SetPaintColor=function(n){prompt(t.id,"Swi.SetPaintColor("+n)},t.SetPaintStyle=function(n){prompt(t.id,"Swi.SetPaintStyle("+n)},t.Rotate=function(n,i,r){prompt(t.id,"Swi.Rotate("+n+"\f"+i+"\f"+r)},t.Move=function(n,i){prompt(t.id,"Swi.Move("+n+"\f"+i)},t.Scale=function(n,i){prompt(t.id,"Swi.Scale("+n+"\f"+i)},t.SetName=function(n){prompt(t.id,"Swi.SetName("+n)},t}function Sws(n){var t=new Swo(n);return t.GetType=function(){return"SmartWatchSensor"},t.SetOnChange=function(n){prompt(t.id,"Sws.SetOnChange("+n.name)},t.SetMaxRate=function(n){prompt(t.id,"Sws.SetMaxRate("+n)},t.Start=function(){prompt(t.id,"Sws.Start(")},t.Stop=function(){prompt(t.id,"Sws.Stop(")},t.Calibrate=function(n){prompt(t.id,"Sws.Calibrate("+n)},t.IsCalibrated=function(){return prompt("#","Sws.IsCalibrated(")=="true"},t}function EMAIL(n){var t=new Obj(n);return t.GetType=function(){return"Email"},t.SetSMTP=function(n,i){prompt(t.id,"EML.SetSMTP("+n+"\f"+i)},t.SetIMAP=function(n,i){prompt(t.id,"EML.SetIMAP("+n+"\f"+i)},t.Send=function(n,i,r,u,f){prompt(t.id,"EML.Send(\f"+n+"\f"+i+"\f"+r+"\f"+u+"\f"+f)},t.Receive=function(n,i,r){prompt(t.id,"EML.Receive("+n+"\f"+i+"\f"+r)},t.SetOnStatus=function(n){prompt(t.id,"EML.SetOnStatus("+n.name)},t.SetOnMessage=function(n){prompt(t.id,"EML.SetOnMessage("+n.name)},t}function Wbs(n){var t=new Obj(n);return t.GetType=function(){return"WebServer"},t.SetFolder=function(n){prompt(t.id,"Wbs.SetFolder(\f"+n)},t.SetUploadFolder=function(n){prompt(t.id,"Wbs.SetUploadFolder(\f"+n)},t.Start=function(){prompt(t.id,"Wbs.Start(")},t.SetResponse=function(n){prompt(t.id,"Wbs.SetResponse("+n)},t.AddRedirect=function(n,i){prompt(t.id,"Wbs.AddRedirect(\f"+n+"\f"+i)},t.AddServlet=function(n,i){prompt(t.id,"Wbs.AddServlet("+n+"\f"+i.name)},t.SendText=function(n,i){prompt(t.id,"Wbs.SendText(\f"+n+"\f"+i)},t.GetWebSockClients=function(){return eval(prompt(t.id,"Wbs.GetWebSockClients("))},t.SetOnReceive=function(n){prompt(t.id,"Wbs.SetOnReceive(\f"+n.name)},t}function Usb(n){var t=new Obj(n);return t.GetType=function(){return"USBSerial"},t.Start=function(){prompt(t.id,"Usb.Start(")},t.Stop=function(){prompt(t.id,"Usb.Stop(")},t.Write=function(n,i){prompt(t.id,"Usb.Write(\f"+n+"\f"+i)},t.SetOnReceive=function(n){prompt(t.id,"Usb.SetOnReceive("+n.name)},t.SetDTR=function(n){prompt(t.id,"Usb.SetDTR(\f"+n)},t.SetRTS=function(n){prompt(t.id,"Usb.SetRTS(\f"+n)},t.IsConnected=function(){return prompt(t.id,"Usb.IsConnected(")=="true"},t}function Sys(n){var t=new Obj(n);return t.GetType=function(){return"SysProc"},t.Out=function(n){prompt(t.id,"Sys.Out(\f"+n)},t.ReadFileAsByte=function(n){return parseInt(prompt(t.id,"Sys.ReadFileAsByte(\f"+n))},t.WriteToFile=function(n,i){prompt(t.id,"Sys.WriteToFile(\f"+n+"\f"+i)},t}function Fil(n){var t=new Obj(n);return t.GetType=function(){return"File"},t.Close=function(){prompt(t.id,"Fil.Close(")},t.ReadText=function(n){return prompt(t.id,"Fil.ReadText(\f"+n)},t.WriteText=function(n,i){prompt(t.id,"Fil.WriteText(\f"+n+"\f"+i)},t.ReadNumber=function(n){return parseFloat(prompt(t.id,"Fil.ReadNumber(\f"+n))},t.WriteNumber=function(n,i){prompt(t.id,"Fil.WriteNumber(\f"+n+"\f"+i)},t.ReadData=function(n,i){return eval(prompt(t.id,"Fil.ReadData(\f"+n+"\f"+i))},t.WriteData=function(n,i){prompt(t.id,"Fil.WriteData(\f"+n+"\f"+i)},t.Seek=function(n){prompt(t.id,"Fil.Seek(\f"+n)},t.Skip=function(n){prompt(t.id,"Fil.Skip(\f"+n)},t.GetPointer=function(){return parseInt(prompt(t.id,"Fil.GetPointer("))},t.GetLength=function(){return parseInt(prompt(t.id,"Fil.GetLength("))},t.SetLength=function(n){prompt(t.id,"Fil.SetLength(\f"+n)},t}function Plg(n){var t=new Obj(n);return t.GetType=function(){return"Plugin"},t.Send=function(n,i,r,u,f,e,o,s,h){return prompt(t.id,"Plg.Send\f"+n+"\f"+typeof i+"\f"+i+"\f"+typeof r+"\f"+r+"\f"+typeof u+"\f"+u+"\f"+typeof f+"\f"+f+"\f"+typeof e+"\f"+e+"\f"+typeof o+"\f"+o+"\f"+typeof s+"\f"+s+"\f"+typeof h+"\f"+h)},t.SendObj=function(n,i,r,u,f,e,o,s,h,c){return prompt(t.id,"Plg.SendObj\f"+n+"\f"+(i?i.id:null)+"\f"+typeof r+"\f"+r+"\f"+typeof u+"\f"+u+"\f"+typeof f+"\f"+f+"\f"+typeof e+"\f"+e+"\f"+typeof o+"\f"+o+"\f"+typeof s+"\f"+s+"\f"+typeof h+"\f"+h+"\f"+typeof c+"\f"+c)},t.CreateObj=function(n,i,r,u,f,e,o,s,h){return prompt(t.id,"Plg.CreateObj\f"+n+"\f"+typeof i+"\f"+i+"\f"+typeof r+"\f"+r+"\f"+typeof u+"\f"+u+"\f"+typeof f+"\f"+f+"\f"+typeof e+"\f"+e+"\f"+typeof o+"\f"+o+"\f"+typeof s+"\f"+s+"\f"+typeof h+"\f"+h)},t.SendImg=function(n,i,r,u){return prompt(t.id,"Plg.SendImg\f"+n+"\f"+(i?i.id:null)+"\f"+r+"\f"+u)},t.SendCam=function(n,i){return prompt(t.id,"Plg.SendCam\f"+n+"\f"+(i?i.id:null))},t}function Svc(n){var t=new Obj(n);return t.GetType=function(){return"Service"},t.Stop=function(){prompt(t.id,"Svc.Stop(")},t.Send=function(n,i,r,u,f,e,o,s){prompt(t.id,"Svc.Send(\f"+n+"\f"+typeof i+"\f"+i+"\f"+typeof r+"\f"+r+"\f"+typeof u+"\f"+u+"\f"+typeof f+"\f"+f+"\f"+typeof e+"\f"+e+"\f"+typeof o+"\f"+o+"\f"+typeof s+"\f"+s)},t.SendImg=function(n,i){prompt(t.id,"Svc.SendImg(\f"+n+"\f"+(i?i.id:null))},t.SendMessage=function(n){prompt(t.id,"Svc.SendMsg(\f"+n)},t.SetOnMessage=function(n){prompt(t.id,"Svc.SetOnMessage(\f"+n.name)},t}function Syn(n){var t=new Obj(n);return t.GetType=function(){return"Synth"},t.Start=function(){prompt(this.id,"Syn.Start(")},t.Stop=function(){prompt(this.id,"Syn.Stop(")},t.PlayTone=function(n,t){prompt(this.id,"Syn.PlayTone("+n+"\f"+t)},t.PlayNote=function(n){prompt(this.id,"Syn.PlayNote("+n)},t.PlayMidiTune=function(n){prompt(this.id,"Syn.PlayMidiTune("+n)},t.SetFrequency=function(n){prompt(this.id,"Syn.SetFrequency("+n)},t.SetWaveShape=function(n){prompt(this.id,"Syn.SetWaveShape("+n)},t.SetVolume=function(n,t){prompt(this.id,"Syn.SetVolume("+n+"\f"+t)},t.SetNoteLength=function(n){prompt(this.id,"Syn.SetNoteLength("+n)},t.SetVca=function(n,t,i,r){prompt(this.id,"Syn.SetVca\f"+n+"\f"+t+"\f"+i+"\f"+r)},t.SetVcaAttack=function(n){prompt(this.id,"Syn.SetVcaAttack("+n)},t.SetVcaDecay=function(n){prompt(this.id,"Syn.SetVcaDecay("+n)},t.SetVcaSustain=function(n){prompt(this.id,"Syn.SetVcaSustain("+n)},t.SetVcaRelease=function(n){prompt(this.id,"Syn.SetVcaRelease("+n)},t.SetVcaEnabled=function(n){prompt(this.id,"Syn.SetVcaEnabled("+n)},t.SetVcf=function(n,t,i,r,u,f,e){prompt(this.id,"Syn.SetVcf\f"+n+"\f"+t+"\f"+i+"\f"+r+"\f"+u+"\f"+f+"\f"+e)},t.SetVcfAttack=function(n){prompt(this.id,"Syn.SetVcfAttack("+n)},t.SetVcfDecay=function(n){prompt(this.id,"Syn.SetVcfDecay("+n)},t.SetVcfSustain=function(n){prompt(this.id,"Syn.SetVcfSustain("+n)},t.SetVcfRelease=function(n){prompt(this.id,"Syn.SetVcfRelease("+n)},t.SetVcfCutoff=function(n){prompt(this.id,"Syn.SetVcfCutoff("+n)},t.SetVcfResonance=function(n){prompt(this.id,"Syn.SetVcfResonance("+n)},t.SetVcfDepth=function(n){prompt(this.id,"Syn.SetVcfDepth("+n)},t.SetVcfEnabled=function(n){prompt(this.id,"Syn.SetVcfEnabled("+n)},t.SetPhaser=function(n,t,i,r){prompt(this.id,"Syn.SetPhaser\f"+n+"\f"+t+"\f"+i+"\f"+r)},t.SetPhaserDryWet=function(n){prompt(this.id,"Syn.SetPhaserDryWet("+n)},t.SetPhaserRate=function(n){prompt(this.id,"Syn.SetPhaserRate("+n)},t.SetPhaserRange=function(n){prompt(this.id,"Syn.SetPhaserRange("+n)},t.SetPhaserFeedback=function(n){prompt(this.id,"Syn.SetPhaserFeedback("+n)},t.SetPhaserEnabled=function(n){prompt(this.id,"Syn.SetPhaserEnabled("+n)},t.SetDelay=function(n){prompt(this.id,"Syn.SetDelay("+n)},t.SetFeedback=function(n){prompt(this.id,"Syn.SetFeedback("+n)},t.SetDelayEnabled=function(n){prompt(this.id,"Syn.SetDelayEnabled("+n)},t}function _Call(n,t,i){t.apply(_map[n],i)}function _Cb(n,t){return new _ObjCb(n,t)}function _ObjCb(n,t){_cbMap[++_cbId]=n;this.name="_cbMap['"+_cbId+"']."+t}function _CreateCP(n){return prompt("#","_CreateCP(\f"+n)}function _ExecCP(n,t,i,r){return prompt("#","_ExecCP(\f"+n+"\f"+t+"\f"+i+"\f"+r)}function _LoadScript(n,t){if(_scripts[n]){t&&t();return}var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript";i.src=n;i.onload=t;r.appendChild(i);_scripts[n]=!0}function _LoadScriptSync(n){if(!_scripts[n]){var i=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript";app.SetDebugEnabled(!1);t.text=app.ReadFile(n);app.SetDebugEnabled(!0);i.appendChild(t);_scripts[n]=!0}}function _LoadPlugin(n){if(n){var t=app.GetPrivateFolder("Plugins");_LoadScriptSync(t+"/"+n.toLowerCase()+"/"+n+".inc")}}function _CreatePlugin(n,t){var i=prompt("#","App.CreatePlugin("+n+"\f"+t);if(i)return new Plg(i);throw"Failed to create plugin:"+n;}function _Run(n){if(_busy){setTimeout(function(){_Run(n)},0);return}_busy=!0;eval(n);_busy=!1}function _SafeRun(n){if(_busy){setTimeout(function(){_SafeRun(n)},0);return}try{_busy=!0;eval(n);_busy=!1}catch(t){}}function OnCreate(n,t){typeof _CheckFolderName=="function"&&_CheckFolderName();n?app._Extract(!0):typeof OnStart=="function"&&(OnStart(),prompt("#","_Start"));t&&app.CreateDebug()}function _Log(n){app.Debug(n)}function _Err(n){app.Debug("ERROR: "+n)}function _AddPermissions(){}function _RemovePermissions(){}function sim_ajaxGet(n,t,i,r){n=="SmartScript"?sim_smartScript(t,i,r):alert("Unknown simType!")}function sim_smartScript(n,t){var o,f,s,u;if(n.url.indexOf("/ide?")>-1){var e=n.url.split("?"),r=e[1].split("&"),i=getParam(r,"cmd");i=="getinfo"?(o=null,t('{"status":"ok", "lastprog":"'+o+'", "appname":"DroidScript"}')):i=="getsamples"?t('{ "samples":"demo1"}'):i=="list"?(f=getParam(r,"dir"),f?t('{ "list":["'+f+'.js"] }'):t('{ "list":["test"] }')):i=="add"?(u=getParam(r,"prog"),s=getParam(r,"type"),document.ide.add(u,s),t('{"status":"ok"}')):i=="run"?(u=getParam(r,"prog"),document.ide.run(u)):i=="stop"?(u=getParam(r,"prog"),document.ide.stop(u),t('{"status":"ok"}')):(alert("Unknown IDE command: "+i),t('{"status":"unknown command"}'))}else{var e=n.url.split("8088/"),h=e[1],c=document.ide.get(h);t(c)}}function getParam(n,t){for(var r,i=0;i<n.length;i++)if(r=n[i].split("="),r.length>1&&r[0]==t)return r[1];return null}function ChromeApp(){this.broadcastSocket=null;this.initialised=!1;this.deviceId=""}function UDPSocket(){this.socketId=-1}function IDEConfig(){this.config={ipAddress:"",zoom:1,editor:{fontSize:14,useBehaviours:!1,useWorker:!1}}}function setBusy(n){n?busyStack++==0&&(clearTimeout(busySpinnerOffTimer),busySpinnerOnTimer=setTimeout(function(){$("#busyOverlay").fadeIn()},250)):--busyStack==0&&(clearTimeout(busySpinnerOnTimer),busySpinnerOffTimer=setTimeout(function(){$("#busyOverlay").fadeOut()},250))}function loadHomePage(){$("#homeView").attr("src","http://www.androidscript.org/Home/home.html?demos=true")}function onReceiveMessage(n){var t,i;n.origin==="http://www.androidscript.org"&&(n.data=="homePageReady"?(clearTimeout(homePageErrorTimeout),$("#homeView").css("width","100%"),$("#homeView").css("height","100%"),$("#homeErrorPage").hide()):(t=n.data.split("|"),t.length==2&&t[0]==="downloadspk"&&(i=decodeURIComponent(t[1]).replace(/^.*[\\\/]/,""),$("#okCancelDialogOkButton").off("click").click(function(){ajaxGet({url:getServerUrl("ide?cmd=downloadspk&url="+encodeURIComponent(t[1]))})}),$("#okCancelDialogHeader").text("Install SPK"),$("#okCancelDialogMessage").text("Click OK to download "+i+" and follow the instructions on your Android device."),$("#okCancelDialog").modal("show"))))}function onEditorResize(){var n=$("#editorTabs").outerHeight(!0),t=$("#editorToolBar").outerHeight(!0);$("#editor").css("top",n+t);$("#editorTabs").data("tabdrop")!=null&&$("#editorTabs").data("tabdrop").layout()}function initIDE(){editor=ace.edit("editor");editor.setTheme("ace/theme/textmate");editor.setFontSize(ideConfig.getFontSize());editor.setBehavioursEnabled(ideConfig.getUseBehaviours());editor.setOptions({enableBasicAutocompletion:!0});editor.completers=[androidScriptCompleter];editor.on("changeSession",function(n){if(n.session){n.session.on("tokenizerUpdate",onTokensChanged);n.session.on("change",onDocumentChanged);var t={first:0,last:n.session.getLength()};onTokensChanged({data:t});applyConfigForSession(n.session)}n.oldSession&&(n.oldSession.removeEventListener("tokenizerUpdate",onTokensChanged),n.oldSession.removeEventListener("change",onDocumentChanged))});sampleEditor=ace.edit("sampleEditor");sampleEditor.setTheme("ace/theme/textmate");sampleEditor.getSession().setMode("ace/mode/javascript");sampleEditor.setReadOnly(!0);sampleEditor.renderer.setShowGutter(!1);sampleEditor.setHighlightActiveLine(!1);sampleEditor.setFontSize(ideConfig.getFontSize());sampleEditor.getSession().setUseWorker(!1)}function updateTooltips(){$("[data-toggle=tooltip]").tooltip({container:"body"})}function showEditorError(n){var i;n=n.replace("Script Error: ","");var u=n.split("|"),r=u[1]-1,f=decodeURIComponent(u[2].replace(/^.*[\\\/]/,"")),t=null;for(i=0;i<AppList.getOpenApp().editorFiles.length;++i)if(AppList.getOpenApp().editorFiles[i].filename==f){t=AppList.getOpenApp().editorFiles[i];break}t&&loadEditorFile(t,AppList.getOpenApp()).then(function(){var n=t.session.getAnnotations(),i;n.push({row:r,column:0,text:u[0],type:"error"});t.session.setAnnotations(n);i=new Range(r,0,r,Infinity);t.errorMarkers.push(t.session.addMarker(i,"ace_error-marker","line"));$('#editorTabs a[href="'+t.tabId+'"]').tab("show");editor.scrollToLine(r,!0,!0)})}function onExpand(){$("#leftPanel").hasClass("span6")?($("#leftPanel").removeClass("span6"),$("#leftPanel").addClass("span8"),$("#rightPanel").removeClass("span6"),$("#rightPanel").addClass("span4"),$("#expBtn img").attr("src","resources/collapse.png"),$("#expBtn").attr("title","Collapse Editor").tooltip("fixTitle").tooltip("show")):($("#leftPanel").removeClass("span8"),$("#leftPanel").addClass("span6"),$("#rightPanel").removeClass("span4"),$("#rightPanel").addClass("span6"),$("#expBtn i").removeClass(),$("#expBtn i").addClass(),$("#expBtn img").attr("src","resources/expand.png"),$("#expBtn").attr("title","Expand Editor").tooltip("fixTitle").tooltip("show"));editor.resize();$("#editorTabs").data("tabdrop").layout()}function Log(n,t){this.list=n;this.filter=t}function onDebugFilter(){var n=$("#debugFilter").val().trim(),t;n.length==0?$("#debugList li").each(function(){$(this).show()}):(n=n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),t=new RegExp(n,"i"),$("#debugList li").each(function(){t.test($(this).text())?$(this).show():$(this).hide()}));Logger.scrollToBottom()}function webSocketIsConnected(){return webSocket!=null&&(webSocket.readyState==0||webSocket.readyState==1)}function openWebSocket(){webSocketIsConnected()||(window.WebSocket?(webSocket=new WebSocket(getServerWSUrl("")),webSocket.onopen=webSocket_onopen,webSocket.onmessage=webSocket_onmessage,webSocket.onclose=webSocket_onclose,webSocket.onerror=webSocket_onerror):Logger.error("WebSocket not supported by this browser, the debug window will not be available."))}function webSocket_onopen(){Logger.message("[Connected]");$("#ideConnected").show();$("#ideDisconnected").hide();var n="<i class='fa fa-wifi connected-green' style='font-size:20px'><\/i> Connected to "+serverInfo.devicename;$("#ideConnected").popover("destroy");$("#ideConnected").popover({html:!0,placement:"left",trigger:"hover",content:n});$("#ideConnected").popover("show");setTimeout(function(){$("#ideConnected").popover("hide")},4e3);webSocket.send("debug");webSocketKeepAliveTimer=setInterval(function(){console.log("sending keepalive");webSocket.send("keepalive")},5e3)}function webSocket_onmessage(n){var t=n.data;t.indexOf("Script Error")>-1?(Logger.error(t),showEditorError(t)):t.indexOf("WARNING")>-1?Logger.warning(t):t.indexOf("svc:")>-1?Logger.service(t):Logger.message(t)}function webSocket_onclose(){function n(t){if(t==4){onRequestError();return}connect(serverIPAddress).then(function(){refreshAppsList()},function(i){i=="PasswordError"?(serverPass="",n(++t)):onRequestError()})}Logger.message("[Disconnected]");$("#ideDisconnected").show();$("#ideConnected").hide();$("#ideDisconnected").popover("destroy");$("#ideDisconnected").popover({html:!0,placement:"left",trigger:"hover",content:"Disconnected. Click <i class='fa fa-wifi disconnected-red' style='font-size:20px'><\/i> to reconnect"});$("#ideDisconnected").popover("show");setTimeout(function(){$("#ideDisconnected").popover("hide")},4e3);$("#ideDisconnected").off("click").on("click",function(){n(0)});clearInterval(webSocketKeepAliveTimer);webSocketKeepAliveTimer=null}function webSocket_onerror(n){Logger.error("Connection Error: "+n.data)}function onConnect(){$("#connectError").hide();$("#passwordError").hide();$("#connectButton").hide();connect($("#serverIPAddress").val()).then(function(n){$("#connectDialog").modal("hide");connected(n)},function(n){$("#connectDialog").modal("show");n=="PasswordError"?$("#passwordError").fadeIn():$("#connectError").fadeIn();$("#connectButton").fadeIn()})}function connect(n){return new Promise(function(t,i){webSocketIsConnected()?t(serverInfo):(serverIPAddress=n.split(":")[0],getServerInfo().then(function(n){$("#connectDialog").modal("hide");serverInfo=n;serverInfo.usepass?loginWithPassword(serverPass).then(function(){openWebSocket();t(serverInfo)},function(){i("PasswordError")}):(serverPass="",openWebSocket(),t(serverInfo))},function(){i("ConnectError")}))})}function getServerInfo(){return new Promise(function(n,t){ajaxGetNoConnect({url:getServerUrl("ide?cmd=getinfo"),timeout:5e3}).then(function(t){var i=JSON.parse(t);typeof i.usepass=="undefined"&&(i.usepass=!1);typeof i.devicename=="undefined"&&(i.devicename=serverIPAddress);n(i)},t)})}function loginWithPassword(n){return new Promise(function(t,i){function r(n){n.length>0?ajaxGetNoConnect({url:getServerUrl("ide?cmd=login&pass="+n),timeout:5e3}).then(function(r){var u=JSON.parse(r);u.status=="ok"?(serverPass=n,t()):i(u.status)},i):i()}if(typeof n=="undefined"||n=="")if($("#passwordDialogOkButton").off("click").click(function(){$("#passwordDialogError").hide();var n=$("#passwordDialogPassword").val();n=btoa(n);r(n)}),$("#passwordDialogCancelButton").off("click").click(function(){$("#passwordDialogError").hide();i("PasswordCanceled")}),$("#passwordDialogPassword").val(""),$("#passwordDialog").is(":visible")){$("#passwordDialog").on("hidden",function(){$("#passwordDialog").off("hidden");$("#passwordDialog").modal("show")});$("#passwordDialog").modal("hide")}else $("#passwordDialog").modal("show");else r(n)})}function connected(n){var t=n.appname;$("#ideTitle").append(" "+t);document.title=t;refreshAppsList().then(function(){var i,t;populateSampleContents();chromeApp.isInitialised()?(i=$("<webview id='docs' src='' width='100%' height='100%'><\/webview>"),i.appendTo(".docsWrapper"),typeof n.macaddress!="undefined"&&chromeApp.setDeviceId(n.macaddress)):(i=$("<iframe id='docs' src='' frameborder='0'><\/iframe>"),i.appendTo(".docsWrapper"));ideConfig.setIPAddress(serverIPAddress);$("#docs").attr("src",getServerUrl(".edit/docs/Docs.htm"));typeof n.premium!="undefined"&&n.premium&&enablePremium();t=n.lastprog;t!="null"&&AppList.getApp(t)!=null?(Logger.message("Opening most recently edited app - '"+t+"'...."),openApp(AppList.getApp(t))):$('#leftPanelTabs a[href="#appsTab"]').tab("show")})}function enablePremium(){var n;$("#leftPanelTabs").append($('<li data-toggle="tooltip" data-placement="right" title="Device Browser"><a class="no-min-width" href="#browserTab" data-toggle="tab" style="min-width:0px"><i class="fa fa-mobile file-browser-tab"><\/i><\/a><\/li>'));$("#leftPanel .tab-content").append($('<div class="tab-pane" id="browserTab" style="height: 100%;"><div class="browserWrapper"><\/div><\/div>'));chromeApp.isInitialised()?(n=$("<webview id='browser' src='' width='100%' height='100%'><\/webview>"),n.appendTo(".browserWrapper")):(n=$("<iframe id='browser' src='' frameborder='0'><\/iframe>"),n.appendTo(".browserWrapper"));$("#browser").attr("src",getUrl("http",8889)+"/browse")}function getUrl(n,t){return n+"://"+serverIPAddress+":"+t}function getServerUrl(n){return getUrl("http",8088)+"/"+n}function getServerWSUrl(n){return getUrl("ws",8088)+"/"+n}function onRequestError(){$("#errorDialog").modal("show")}function onUploadError(){$("#errorDialog").modal("show")}function ajaxGet(n){return new Promise(function(t,i){simulate?sim_ajaxGet(simulate,n,t,i):connect(serverIPAddress).then(function(){n.cache=!1;var r=$.ajax(n);r.done(function(n){t(n)});r.fail(function(){i()})},i)})}function ajaxGetNoConnect(n){return new Promise(function(t,i){if(simulate)sim_ajaxGet(simulate,n,t,i);else{n.cache=!1;var r=$.ajax(n);r.done(function(n){t(n)});r.fail(function(){i()})}})}function refreshAssets(n){var t,i,r,u;typeof n=="undefined"&&(n="Img,Snd,Html,Misc");n.indexOf("Img")!=-1&&(t=AppList.getOpenApp().folder+"/Img",ajaxGet({url:getServerUrl("ide?cmd=list&dir="+encodeURIComponent(t))}).then(function(n){var i=sortList(JSON.parse(n).list);populateAssets(i,$("#imageAssetsList"),t,"resources/image.png");$("#imageAssetsList").find("img").each(function(n){loadExternalImage(getServerUrl(t+"/")+i[n],$(this))})}));n.indexOf("Snd")!=-1&&(i=AppList.getOpenApp().folder+"/Snd",ajaxGet({url:getServerUrl("ide?cmd=list&dir="+encodeURIComponent(i))}).then(function(n){var t=sortList(JSON.parse(n).list);populateAssets(t,$("#soundAssetsList"),i,"resources/sound.png")}));n.indexOf("Html")!=-1&&(r=AppList.getOpenApp().folder+"/Html",ajaxGet({url:getServerUrl("ide?cmd=list&dir="+encodeURIComponent(r))}).then(function(n){var t=sortList(JSON.parse(n).list);populateAssets(t,$("#htmlAssetsList"),r,"resources/html.png")}));n.indexOf("Misc")!=-1&&(u=AppList.getOpenApp().folder+"/Misc",ajaxGet({url:getServerUrl("ide?cmd=list&dir="+encodeURIComponent(u))}).then(function(n){var t=sortList(JSON.parse(n).list);populateAssets(t,$("#miscAssetsList"),u,"resources/file.png")}))}function populateAssets(n,t,i,r){var u,e,f;for(t.empty(),u=0;u<n.length;u++)n[u].indexOf(".nomedia")==-1&&(e="",e+='<li>\n<div class="thumbnail">\n<div style="height: 64px; text-align: center; vertical-align: middle;">\n<img alt="" src="'+r+'" style="width: 64px; max-height: 64px"/>\n<\/div>\n<div class="caption">\n<div class="well thumbnailFilename">'+n[u]+'<\/div>\n<p class="thumbnailButtons">\n<a id="renameAssetButton" href="#" class="btn btn-mini btn-flat btn-noborder" data-toggle="tooltip" title="Rename">\n<i class="icon-edit"><\/i>\n<\/a>\n<a id="deleteAssetButton" href="#" class="btn btn-mini btn-flat btn-noborder" data-toggle="tooltip" title="Delete">\n<i class="icon-trash"><\/i>\n<\/a>\n<\/p>\n<\/div>\n<\/div>\n<\/li>\n',f=$(e),f.data("assetFile",n[u]),f.data("assetDir",i),t.append(f));updateTooltips()}function assetFileUploadChanged(n,t,i){if($("input[id="+n+"]").val()!=""){$("#"+n).attr("name",AppList.getOpenApp().folder+i);var r=new FormData($("#"+t)[0]);$.ajax({url:getServerUrl("uploader"),data:r,processData:!1,contentType:!1,type:"POST"}).done(function(){refreshAssets(i)}).fail(function(n,t,i){onUploadError(n,t,i)});$("input[id="+n+"]").val("")}}function handleAssetDragOver(n){n=n.originalEvent;n.stopPropagation&&n.stopPropagation();n.preventDefault&&n.preventDefault();n.dataTransfer.dropEffect="copy"}function handleAssetDragEnter(n){n=n.originalEvent;dragOverStack.push(n.target);var t=$(n.target).closest(".asset-drop-target");t!==null&&t.addClass("drop-target-highlight")}function handleAssetDragLeave(n){if(n=n.originalEvent,dragOverStack.pop(),dragOverStack.length===0){var t=$(n.target).closest(".asset-drop-target");t!==null&&t.removeClass("drop-target-highlight")}}function handleAssetDragEnd(n){n=n.originalEvent;dragOverStack=[];var t=$(n.target).closest(".asset-drop-target");t!==null&&t.removeClass("drop-target-highlight")}function handleAssetDrop(n){var t,i,u,r,f;if(n=n.originalEvent,n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),dragOverStack=[],t=$(n.target).closest(".asset-drop-target"),t!==null&&t.removeClass("drop-target-highlight"),AppList.getOpenApp()!=null)for(i="",t.hasClass("img-asset-group")?i="/Img":t.hasClass("snd-asset-group")?i="/Snd":t.hasClass("html-asset-group")?i="/Html":t.hasClass("misc-asset-group")&&(i="/Misc"),u=n.dataTransfer.files,r=0;r<u.length;++r)u[r].type!==""&&(f=new FileReader,f.source=u[r],f.onload=function(n){var t=n.target.source,r=AppList.getOpenApp().folder+i,u=n.target.result;createFile(r,t.name,u,t.type).then(function(){refreshAssets(i)},onUploadError)},f.onerror=function(){onUploadError()},f.readAsArrayBuffer(u[r]))}function onSave(){save(AppList.getOpenApp().activeEditorFile).then(null,onRequestError)}function save(n){return new Promise(function(t,i){if(n.session&&n.modified){var r=AppList.getOpenApp();createFile(r.folder,n.filename,n.session.getValue()).then(function(){for(var u,i=0;i<r.editorFiles.length;++i){if(r.editorFiles[i].session){for(r.editorFiles[i].session.clearAnnotations(),u=0;u<r.editorFiles[i].errorMarkers.length;++u)r.editorFiles[i].session.removeMarker(r.editorFiles[i].errorMarkers[u]);r.editorFiles[i].session.$worker&&r.editorFiles[i].session.$worker.call("onUpdate")}r.editorFiles[i].errorMarkers=[]}setModified(n,!1);t()},i)}else t()})}function saveAll(){return new Promise(function(n,t){for(var r=[],i=0;i<AppList.getOpenApp().editorFiles.length;++i)r.push(save(AppList.getOpenApp().editorFiles[i]));Promise.all(r).then(n,t)})}function onRun(){ajaxGet({url:getServerUrl("ide?cmd=stop")}).then(function(){return saveAll()}).then(function(){Logger.clear();ajaxGet({url:getServerUrl("ide?cmd=run&prog="+encodeURIComponent(AppList.getOpenApp().getName()))})},function(){onRequestError()})}function onStop(){ajaxGet({url:getServerUrl("ide?cmd=stop")}).then(null,onRequestError)}function addSampleButton(n,t,i){var u='<div><a id=\'sampleButton\' class="btn btn-flat" style="width: 100%; padding: 0px"><p style="margin: 5px; text-align: left; font-size: 16px"><b>'+n+'<\/b><\/p><p style="margin: 5px; text-align: left;">'+t+"<\/p><\/a><\/div>",r=$(u);r.data("title",n);r.data("type",i);$("#samplesContentList").append(r)}function populateSampleContents(){ajaxGet({url:getServerUrl("ide?cmd=getsamples")}).then(function(n){for(var t,u=JSON.parse(n).samples,r=u.split(","),i=0;i<r.length;++i)t=r[i].split(":"),addSampleButton(t[0],t[1],t[2])})}function runSample(){var n=currentSample.split(" ").join("_");ajaxGet({url:getServerUrl("ide?cmd=sample&name="+n)})}function onSampleFilter(){var n=$("#sampleFilter").val().trim(),t;n.length==0?$("#samplesContentList").children("div").each(function(){$(this).show()}):(n=n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),t=new RegExp(n,"i"),$("#samplesContentList").children("div").each(function(){var n=!1;$(this).find("p").each(function(){n|=t.test($(this).text())});n?$(this).show():$(this).hide()}))}function appendAppToAppsList(n){var i='<li style="position: relative;" class="app-thumbnail">\n<div id="openAppButton" class="thumbnail" style="border: 0px; box-shadow: none;">\n<div style="text-align: center; vertical-align: middle;"><img class="app-image" src="resources/droidscript_app.png">\n<\/div><div><p class="appFilename">'+n.getName()+'<\/p>\n<\/div><\/div>\n<div id="appButtons" style="opacity: 0;">\n<div style="position: absolute; top: 0px; margin: 5px 10px;">\n<a id="renameAppButton" class="btn btn-mini btn-flat btn-noborder" data-toggle="tooltip" title="Rename"><i class="icon-edit"><\/i><\/a>\n<\/div>\n<div style="position: absolute; top: 0px; right: 0px; margin: 5px 10px;">\n<a id="deleteAppButton" class="btn btn-mini btn-flat btn-noborder" data-toggle="tooltip" title="Delete"><i class="icon-trash"><\/i><\/a>\n<\/div>\n<\/div>\n<\/li>\n',t=$(i);t.data("appName",n.getName());t.hover(function(){$(this).find("img").animate({opacity:"1.0"},"fast");$(this).find("div#appButtons").animate({opacity:"1.0"},"fast")},function(){$(this).find("img").animate({opacity:"0.7"},"fast");$(this).find("div#appButtons").animate({opacity:"0.0"},"fast")});$("#appsList").append(t);loadExternalImage(getServerUrl(n.getIconPath()),t.find(".app-image"))}function refreshAppsList(){return new Promise(function(n,t){var i=AppList.getOpenApp();ajaxGet({url:getServerUrl("ide?cmd=list&dir=")}).then(function(t){var o=JSON.parse(t).list,r,u,e,f;for(AppList.clear(),$("#appsList").empty(),r="",r='<li class="app-thumbnail" id="newApp">\n<div class="thumbnail" style="border: 0px; box-shadow: none;">\n<div style="text-align: center; vertical-align: middle;"><img class="app-image" src="resources/droidscript_app_new_js.png">\n<\/div><div><p class="appFilename">New App...<\/p>\n<\/div><\/div>\n<\/li>\n',u=$(r),$("#appsList").append(u),r='<li class="app-thumbnail" id="newHtmlApp">\n<div class="thumbnail" style="border: 0px; box-shadow: none;">\n<div style="text-align: center; vertical-align: middle;"><img class="app-image" src="resources/droidscript_app_new_html.png">\n<\/div><div><p class="appFilename">New Html App...<\/p>\n<\/div><\/div>\n<\/li>\n',u=$(r),$("#appsList").append(u),e=[],f=0;f<o.length;f++)e.push(getDroidScriptApp(o[f]));Promise.all(e).then(function(t){for(var r=0;r<t.length;++r)t[r]&&(AppList.addApp(t[r]),appendAppToAppsList(t[r]));i!=null&&(AppList.removeApp(i.getName()),AppList.addApp(i));n()},onRequestError)},t)})}function sortAppList(){var i=$("#appsList #newApp"),r=$("#appsList #newHtmlApp"),t,n;i.remove();r.remove();t=$("#appsList li").get();t.sort(function(n,t){var i=$(n).data("appName"),r=$(t).data("appName");return i.toLowerCase()<r.toLowerCase()?-1:i.toLowerCase()>r.toLowerCase()?1:0});n=$("#appsList");$.each(t,function(t,i){n.append(i)});n.prepend(r);n.prepend(i)}function getDroidScriptApp(n){return new Promise(function(t,i){var r=null;n.charAt(0)!="~"&&n.charAt(0)!="."?ajaxGet({url:getServerUrl("ide?cmd=list&dir="+encodeURIComponent(n))}).then(function(i){var f=JSON.parse(i).list,e,u;if(f.indexOf(n+".js")!=-1||f.indexOf(n+".html")!=-1)for(r=new DroidScriptApp(n),e=0;e<f.length;++e)isSupportedFileType(f[e])&&(u=new DroidScriptAppFile(f[e]),r.editorFiles.push(u),u.displayName.toUpperCase()==n.toUpperCase()?(u.canDelete=!1,r.activeEditorFile=u,r.mainEditorFile=u):u.canDelete=!0);t(r)},i):t(r)})}function newApp(n){n=="js"?$("#newAppDialogTitle").text("New App"):n=="html"?$("#newAppDialogTitle").text("New Html App"):Logger.message("Cannot create app, unknown app type: "+n);var t=function(){var t=$("#newAppDialogAppName").val(),i;containsReservedCharacters(t)?$("#newAppError").fadeIn():($("#newAppDialog").modal("hide"),i="ide?cmd=add&prog="+encodeURIComponent(t)+"&type="+n,ajaxGet({url:getServerUrl(i)}).then(function(){return getDroidScriptApp(t)}).then(function(n){AppList.addApp(n);appendAppToAppsList(n);sortAppList();openApp(n)},onRequestError))};$("#newAppDialogButton").off("click").click(t);$("#newAppDialog").modal("show")}function openApp(n){loadEditorFile(n.mainEditorFile,n).then(function(){AppList.getOpenApp()!=null&&AppList.getOpenApp().close();AppList.setOpenApp(n);$("#editorTabs").empty();for(var t=0;t<n.editorFiles.length;++t)n.editorFiles[t]==n.mainEditorFile?$("#editorTabs").prepend(createEditorFileTab(n.editorFiles[t])):$("#editorTabs").append(createEditorFileTab(n.editorFiles[t]));n.activeEditorFile=n.mainEditorFile;$('ul[id="editorTabs"] a').on("shown",onEditorFileTabChanged);$('#editorTabs a[href="'+n.activeEditorFile.tabId+'"]').tab("show");$('#leftPanelTabs a[href="#editorTab"]').tab("show");refreshAssets();n.getName().substring(0,4)=="SWS-"?($("#runBtn").prop("disabled",!0),$("#stopBtn").prop("disabled",!0)):($("#runBtn").prop("disabled",!1),$("#stopBtn").prop("disabled",!1));$("#editorTabs").tabdrop();editor.resize();chromeApp.onAppOpened(n.getName());chromeApp.getLocalAppChanges(n.getName(),function(t){var i="Restore unsaved changes to the following file(s)?<br>";for(var r in t.files)t.files.hasOwnProperty(r)&&(i+="<strong>"+r+"<\/strong>",i+="<br>");$("#restoreDiscardDialogRestoreButton").off("click").click(function(){for(var i in t.files)if(t.files.hasOwnProperty(i)){function r(n){n!=null&&loadEditorFile(n,t).then(function(){var i=t.files[n.filename];n.session.setValue(i);setModified(n,!0)})}r(n.getEditorFileForFilename(i))}});$("#restoreDiscardDialogDiscardButton").off("click").click(function(){chromeApp.discardLocalAppChanges(n.getName())});$("#restoreDiscardDialogMessage").html(i);$("#restoreDiscardDialog").modal("show")})},onRequestError)}function onEditorFileTabChanged(n){var i=n.target.getAttribute("href"),t=AppList.getOpenApp();t.activeEditorFile=t.getEditorFileForTab(i);loadEditorFile(t.activeEditorFile,t).then(function(){editor.setSession(t.activeEditorFile.session);editor.focus()},function(){if(n.relatedTarget!=null){var t=$('#editorTabs a[href="'+n.relatedTarget.getAttribute("href")+'"]');t.tab("show")}onRequestError()})}function loadEditorFile(n,t){return new Promise(function(i,r){n.session==null?(console.log("loadEditorFile creating session"),ajaxGet({url:getServerUrl(encodeURIComponent(t.folder)+"/"+encodeURIComponent(n.filename)),dataType:"text"}).then(function(t){n.session=t==null||t==""?createNewEditSession(n,$("#phoneAppTemplate").text()):createNewEditSession(n,t);console.log("session created");i()},r)):(console.log("loadEditorFile session already created"),i())})}function createEditorFileTab(n){var i="",t;return i=n.canDelete?'<li style="position:relative"><a style="padding-right:25px" href="'+n.tabId+'" data-toggle="tab">'+n.filename+'<\/a><button class="close deleteFileBtn" data-toggle="tooltip" data-original-title="Delete"><i class="icon-trash"><\/i><\/button><\/li>':'<li><a href="'+n.tabId+'" data-toggle="tab">'+n.filename+"<\/a><\/li>",t=$(i),t.data("editorFile",n),t}function isSupportedFileType(n){var t=n.toLowerCase();return t.indexOf(".js")!=-1||t.indexOf(".htm")!=-1||t.indexOf(".css")!=-1||t.indexOf(".txt")!=-1||t.indexOf(".json")!=-1?!0:!1}function newFile(n,t){var i,r;if(n.trim().length==0){$("#newFileError").html("<b>Emtpy Filename.<\/b> Please enter a filename.");$("#newFileError").fadeIn();return}for(i="",t.toLowerCase().localeCompare("text")==0?n.toLowerCase().indexOf(".txt")==-1&&(n+=".txt"):t.toLowerCase().localeCompare("html")==0?(n.toLowerCase().indexOf(".htm")==-1&&(n+=".html"),i="<html>\n\t<head>\n\t\t<title>Hello World!<\/title>\n\t<\/head>\n\t<body>\n\t\t<p>Hello World!<\/p>\n\t<\/body>\n<\/html>"):t.toLowerCase().localeCompare("css")==0?(n.toLowerCase().indexOf(".css")==-1&&(n+=".css"),i="body\n{\n\n}"):t.toLowerCase().localeCompare("json")==0?(n.toLowerCase().indexOf(".json")==-1&&(n+=".json"),i="{\n\n}"):n.toLowerCase().indexOf(".js")==-1&&(n+=".js"),r=0;r<AppList.getOpenApp().editorFiles.length;++r)if(AppList.getOpenApp().editorFiles[r].filename.toLowerCase()==n.toLowerCase()){$("#newFileError").html("<b>Cannot Create File.<\/b> A file with the name '"+n+"' already exists.");$("#newFileError").fadeIn();return}createFile(AppList.getOpenApp().folder,n,i).then(function(){var t=new DroidScriptAppFile(n),i;t.canDelete=!0;AppList.getOpenApp().editorFiles.push(t);$("#editorTabs").append(createEditorFileTab(t));$("#editorTabs").data("tabdrop").layout();AppList.getOpenApp().activeEditorFile=t;i=$('#editorTabs a[href="'+AppList.getOpenApp().activeEditorFile.tabId+'"]');i.on("shown",onEditorFileTabChanged);i.tab("show");$("#newFileDialog").modal("hide")},function(){Logger.message("Failed to create file "+n+". Is DroidScript running and Wi-Fi enabled?")})}function createFile(n,t,i,r){return new Promise(function(u,f){var e=getServerUrl("uploader");typeof r=="undefined"&&(r="text/plain");connect(serverIPAddress).then(function(){var s=new FormData,h=new Blob([i],{type:r}),o;s.append(n,h,t);o=$.ajax({url:e,data:s,cache:!1,contentType:!1,processData:!1,type:"POST"});o.fail(function(n,r){console.log("createFile("+t+", "+i+") failed: "+r);f()});o.done(function(){u()})},f)})}function createNewEditSession(n,t){var u=new Document(t),i="ace/mode/javascript",r;return n.filename.toLowerCase().indexOf(".htm")!=-1?i="ace/mode/html":n.filename.toLowerCase().indexOf(".css")!=-1?i="ace/mode/css":n.filename.toLowerCase().indexOf(".txt")!=-1?i="ace/mode/text":n.filename.toLowerCase().indexOf(".json")!=-1&&(i="ace/mode/json"),r=new EditSession(u,i),r.setUseWorker(!1),r.setUndoManager(new UndoManager),r}function onDocumentChanged(n){var t=AppList.getOpenApp().activeEditorFile;setModified(t,!0);n.action=="insert"&&setTimeout(showAutocompletePopup,500)}function setModified(n,t){if(n.setModified(t),t)chromeApp.onFileModified(n.filename,n.session.getValue());else chromeApp.onFileSaved(n.filename);var i=n.modified?"*"+n.filename:n.filename;$('#editorTabs a[href="'+n.tabId+'"]').text(i);$("#editorTabs").data("tabdrop").layout()}function showAutocompletePopup(){if(!editor.completer||!editor.completer.activated){var t=editor.getCursorPosition(),n=editor.getSession().getTokenAt(t.row,t.column);n!=null&&n.type=="punctuation.operator"&&n.value=="."&&Autocomplete.startCommand.exec(editor)}}function getObjType(n,t){var i,r;return n=="app"?g_types.App:(i=t.search(new RegExp("\\b"+n+"\\s*=.*Create(.+)[(]")),i<0)?null:(r=RegExp.$1.replace(" ",""),g_types[r])}function getObjFunctions(n){var t=g_objFunctionCache[n],r,u,i;if(typeof t=="undefined"){r=new window[n];t=[];u=g_ignoreFuncs[n]||[];for(i in r)r.hasOwnProperty(i)&&typeof r[i]=="function"&&u.indexOf(i)==-1&&t.push(i);t.sort();g_objFunctionCache[n]=t}return t}function onTokensChanged(){for(var t,n,e,o,r,f,i=[],s=AppList.getOpenApp().activeEditorFile.session.getLength(),u=0;u<=s;++u)for(t=AppList.getOpenApp().activeEditorFile.session.getTokens(u),n=0;n<t.length;++n)if(t[n].type=="storage.type"&&t[n].value=="function"){t.length>n+2&&(e=t[n+2],e.type=="entity.name.function"&&i.push({name:e.value,line:u+1}));break}for(i.sort(function(n,t){return n.name.toLowerCase()<t.name.toLowerCase()?-1:n.name.toLowerCase()>t.name.toLowerCase()?1:0}),o="",r=0;r<i.length;++r)f='<li id="'+i[r].line+'">',f+='<a href="#">'+i[r].name+"<\/a>",f+="<\/li>\n",o+=f;$("#functionJumpList").html(o);$("ul[id*=functionJumpList] li").click(function(){editor.gotoLine($(this).attr("id"),0,!0);editor.focus()})}function onCollapseAll(){var n=AppList.getOpenApp().activeEditorFile.session;n.foldAll(0,n.getLength(),0)}function onExpandAll(){var n=AppList.getOpenApp().activeEditorFile.session,t=new Range(0,0,n.getLength(),0);n.unfold(t,!1)}function containsReservedCharacters(n){return/[|\\?*<\":>\[\]\/']+/.test(n)}function loadExternalImage(n,t){var i=new XMLHttpRequest;i.open("GET",n,!0);i.responseType="blob";i.onreadystatechange=function(){this.readyState==4&&this.status==200&&t.attr("src",window.URL.createObjectURL(this.response))};i.send()}function sortList(n){return n.sort(function(n,t){return n.toLowerCase().localeCompare(t.toLowerCase())}),n}function stringToArrayBuffer(n){for(var i=new ArrayBuffer(n.length*2),r=new Uint8Array(i),t=0,u=n.length;t<u;t++)r[t]=n.charCodeAt(t);return i}function arrayBufferToString(n){return String.fromCharCode.apply(null,new Uint8Array(n))}function applyConfig(){editor.setFontSize(ideConfig.getFontSize());editor.setBehavioursEnabled(ideConfig.getUseBehaviours());sampleEditor.setFontSize(ideConfig.getFontSize());AppList.getOpenApp()&&AppList.getOpenApp().activeEditorFile&&applyConfigForSession(AppList.getOpenApp().activeEditorFile.session)}function applyConfigForSession(n){n.$modeId=="ace/mode/javascript"&&n.$worker&&n.$worker.call("changeOptions",[{predef:["app"]}])}function DroidScriptApp(n){this.folder=n;this.editorFiles=[];this.activeEditorFile=null;this.mainEditorFile=null}function DroidScriptAppFile(n){this.filename=n;var t=n.split(".").slice(0,-1);this.displayName=t.join(".");this.functions=[];this.session=null;this.modified=!1;this.tabId=uniqueTabIdCounter++;this.errorMarkers=[];this.canDelete=!1}var _localStorageId,webSocketKeepAliveTimer,dragOverStack,androidScriptCompleter,g_types,g_ignoreFuncs,g_objFunctionCache,uniqueTabIdCounter;_dbg=!0;_map=[];_scripts=[];_cbMap=[];_cbId=0;_docs=!1;_busy=!1;_btl=null;_lvw=null;_ldg=null;_ynd=null;_nxt=null;_smw=null;_inf=null;_rec=null;_pst=null;_sms=null;_eml=null;_crp=null;_spr=null;ChromeApp.prototype.isInitialised=function(){return this.initialised};ChromeApp.prototype.init=function(){this.initialised=!0;localThis=this;chrome.runtime.getPlatformInfo(function(n){n.os=="win"&&localThis._startDiscovery()})};ChromeApp.prototype.getPlatformOS=function(n){chrome.runtime.getPlatformInfo(function(t){n(t.os)})};ChromeApp.prototype.setDeviceId=function(n){this.deviceId=n};ChromeApp.prototype._startDiscovery=function(){this.broadcastSocket=new UDPSocket;var n=this.broadcastSocket;this.broadcastSocket.open(function(){n.setOnReceive(function(n){var t=null,r,i,u;try{t=JSON.parse(arrayBufferToString(n.data));console.log(t)}catch(f){t=null}t!=null&&(console.log(t),r=!1,$("#connectServers").children("a").each(function(){r|=$(this).data("ipAddress")==n.remoteAddress}),r||(i='<a id=\'server\' class="btn btn-flat" style="width: 100%; padding: 0px">',t.usepass&&(i+='<i class="fa fa-lock" style="float: right;margin: 3px"><\/i>'),i+='<p style="margin: 3px 5px 0px 5px; text-align: left; font-size: 14px"><b>'+t.appname+" ("+t.devicename+')<\/b><\/p><p style="margin: 0px 5px 3px 5px; text-align: left; font-size: 12px">'+n.remoteAddress+"<\/p><\/a>",u=$(i),u.data("ipAddress",n.remoteAddress),$("#connectServers").append(u)))});n.sendDiscoverDSSeverRequest();$("#connectServerSection").show()})};ChromeApp.prototype.getLocalStorageString=function(n,t){this.initialised&&chrome.storage.local.get(n,function(i){i!=null&&typeof i[n]=="string"&&t(i[n])})};ChromeApp.prototype.setLocalStorageString=function(n,t){if(this.initialised){var i={};i[n]=t;chrome.storage.local.set(i)}};ChromeApp.prototype.onAppOpened=function(n){if(this.initialised){var t=this.deviceId;chrome.runtime.getBackgroundPage(function(i){i.onAppOpened(n,t)})}};ChromeApp.prototype.onFileModified=function(n,t){this.initialised&&chrome.runtime.getBackgroundPage(function(i){i.onFileModified(n,t)})};ChromeApp.prototype.onFileSaved=function(n){this.initialised&&chrome.runtime.getBackgroundPage(function(t){t.onFileSaved(n)})};ChromeApp.prototype.getLocalAppChanges=function(n,t){if(this.initialised){var i=this.deviceId;chrome.runtime.getBackgroundPage(function(r){r.getLocalAppChanges(n,i,t)})}};ChromeApp.prototype.discardLocalAppChanges=function(n){if(this.initialised){var t=this.deviceId;chrome.runtime.getBackgroundPage(function(i){i.forgetApp(n,t)})}};ChromeApp.prototype.zoom=function(n){$("#pageBody").css("zoom",n);var t=document.getElementById("homeView");t!=null&&t.setZoom(n);t=document.getElementById("docs");t!=null&&t.setZoom(n)};UDPSocket.prototype.open=function(n,t){var i=this;chrome.sockets.udp.create({},function(r){i.socketId=r.socketId;chrome.runtime.getBackgroundPage(function(n){n.setBroadcastSocketId(i.socketId)});chrome.sockets.udp.bind(i.socketId,"0.0.0.0",19800,function(i){if(i<0){console.log("Error binding socket.");t!=null&&t(i);return}n()})})};UDPSocket.prototype.close=function(){this.socketId!=-1&&(chrome.sockets.udp.close(this.socketId),this.socketId=-1,chrome.runtime.getBackgroundPage(function(n){n.setBroadcastSocketId(-1)}))};UDPSocket.prototype.setOnReceive=function(n){chrome.sockets.udp.onReceive.addListener(n)};UDPSocket.prototype.sendDiscoverDSSeverRequest=function(){this.sendBroadcastMessage("DISCOVER_DSSERVER_REQUEST")};UDPSocket.prototype.sendBroadcastMessage=function(n){var t=this;this.getBroadcastAddresses(function(i){var u,r;console.log("BroadcastAddresses: "+i);try{for(u=stringToArrayBuffer(n),r=0;r<i.length;++r)chrome.sockets.udp.send(t.socketId,u,i[r],19800,function(n){console.log(n)})}catch(f){console.log("sendBroadcastMessage: "+f)}})};UDPSocket.prototype.getBroadcastAddresses=function(n){this.getLocalIPAddresses(function(t){var i,r,u;for(console.log(t),i=[],r=0;r<t.length;++r)u=t[r].split("."),u.length==4&&(u[3]=255,broadcastIp=u.join("."),i.indexOf(broadcastIp)==-1&&i.push(broadcastIp));i.length>0&&n(i)})};UDPSocket.prototype.getLocalIPAddresses=function(n){var t=[];chrome.system.network.getNetworkInterfaces(function(i){for(var u,r=0;r<i.length;++r)u=i[r].address.split("."),u.length==4&&t.push(i[r].address);n(t)})};_localStorageId="_ideConfig";IDEConfig.prototype.getIPAddress=function(){return this.config.ipAddress};IDEConfig.prototype.setIPAddress=function(n){this.config.ipAddress=n;this.save()};IDEConfig.prototype.getZoom=function(){return this.config.zoom};IDEConfig.prototype.setZoom=function(n){this.config.zoom=n;this.save()};IDEConfig.prototype.getFontSize=function(){return this.config.editor.fontSize};IDEConfig.prototype.setFontSize=function(n){this.config.editor.fontSize=n;this.save()};IDEConfig.prototype.getUseBehaviours=function(){return this.config.useBehaviours};IDEConfig.prototype.setUseBehaviours=function(n){this.config.editor.useBehaviours=n;this.save()};IDEConfig.prototype.getUseWorker=function(){return this.config.useWorker};IDEConfig.prototype.setUseWorker=function(n){this.config.editor.useWorker=n;this.save()};IDEConfig.prototype.load=function(){var n=this;return new Promise(function(t){if(location.protocol=="chrome-extension:")chrome.storage.local.get(["ip","zoom",_localStorageId],function(i){if(i!=null)try{typeof i[_localStorageId]!="undefined"&&(n.config=$.extend(!0,{},n.config,i[_localStorageId]));typeof i.ip=="string"&&(n.config.ip=i.ip,chrome.storage.local.remove("ip"));typeof i.zoom=="string"&&(n.config.zoom=parseFloat(i.zoom),chrome.storage.local.remove("zoom"))}catch(r){console.log("IDEConfig.load error: "+r)}t()});else if(localStorage&&localStorage.getItem(_localStorageId)){try{var i=JSON.parse(localStorage.getItem(_localStorageId));n.config=$.extend(!0,{},n.config,i)}catch(r){console.log("IDEConfig.load error: "+r)}t()}else console.log("IDEConfig not loaded"),t()})};IDEConfig.prototype.save=function(){var n,i;if(location.protocol=="chrome-extension:")try{n={};n[_localStorageId]=this.config;chrome.storage.local.set(n)}catch(t){console.log("IDEConfig.save error: "+t)}else if(localStorage)try{i=JSON.stringify(this.config);localStorage.setItem(_localStorageId,i)}catch(t){console.log("IDEConfig.save error: "+t)}};var languageTools=require("ace/ext/language_tools"),Autocomplete=require("ace/autocomplete").Autocomplete,Range=require("ace/range").Range,Document=require("ace/document").Document,EditSession=require("ace/edit_session").EditSession,UndoManager=require("ace/undomanager").UndoManager,editor,sampleEditor,webSocket,serverIPAddress="",currentSample="",simulate=null,chromeApp=new ChromeApp,serverInfo=null,serverPass="",Logger=null,ideConfig=new IDEConfig,AppList={openAppName:"",appMap:{},getOpenApp:function(){return this.openAppName==""?null:this.appMap[this.openAppName]},setOpenApp:function(n){n==null&&(this.openAppName="");this.openAppName=n.getName()},getApp:function(n){return this.appMap[n]},removeApp:function(n){delete this.appMap[n]},addApp:function(n){this.appMap[n.getName()]=n},clear:function(){this.appMap={}}},busyStack=0,busySpinnerOnTimer=null,busySpinnerOffTimer=null;document.addEventListener("DOMContentLoaded",function(){document.body.addEventListener("resize",onEditorResize);document.querySelector("#newBtn").addEventListener("click",function(){$("#newFileError").hide();$("#newFileDialog").modal("show")});document.querySelector("#saveBtn").addEventListener("click",onSave);document.querySelector("#runBtn").addEventListener("click",onRun);document.querySelector("#stopBtn").addEventListener("click",onStop);document.querySelector("#collapseAllBtn").addEventListener("click",onCollapseAll);document.querySelector("#expandAllBtn").addEventListener("click",onExpandAll);document.querySelector("#expBtn").addEventListener("click",onExpand);document.querySelector("#imgUploadBtn").addEventListener("click",function(){$("input[id=imageUploadFile]").click()});document.querySelector("#sndUploadBtn").addEventListener("click",function(){$("input[id=soundUploadFile]").click()});document.querySelector("#htmlUploadBtn").addEventListener("click",function(){$("input[id=htmlUploadFile]").click()});document.querySelector("#miscUploadBtn").addEventListener("click",function(){$("input[id=miscUploadFile]").click()});document.querySelector("#reloadHomeBtn").addEventListener("click",loadHomePage);document.querySelector("#sampleBackBtn").addEventListener("click",function(){$("#sampleCodeView").hide();$("#sampleContentView").show()});document.querySelector("#sampleRunBtn").addEventListener("click",runSample);document.querySelector("#sampleStopBtn").addEventListener("click",onStop);document.querySelector("#sampleFilterClearBtn").addEventListener("click",function(){$("#sampleFilter").val("")});document.querySelector("#debugClearBtn").addEventListener("click",function(){Logger.clear()});document.querySelector("#connectButton").addEventListener("click",onConnect);document.querySelector("#connectRefreshServerButton").addEventListener("click",function(){chromeApp.broadcastSocket!=null&&($("#connectServers").empty(),chromeApp.broadcastSocket.sendDiscoverDSSeverRequest())});document.querySelector("#newFileDialogButton").addEventListener("click",function(){newFile($("#fileName").val(),$("#fileTypeChoice").html())});document.querySelector("#sampleFilter").addEventListener("change",onSampleFilter);document.querySelector("#sampleFilter").addEventListener("keypress",onSampleFilter);document.querySelector("#sampleFilter").addEventListener("paste",onSampleFilter);document.querySelector("#sampleFilter").addEventListener("input",onSampleFilter);document.querySelector("#sampleFilterClearBtn").addEventListener("click",function(){$("#sampleFilter").val("");onSampleFilter()});$("#sampleFilterForm").submit(function(){return!1});document.querySelector("#debugFilter").addEventListener("change",onDebugFilter);document.querySelector("#debugFilter").addEventListener("keypress",onDebugFilter);document.querySelector("#debugFilter").addEventListener("paste",onDebugFilter);document.querySelector("#debugFilter").addEventListener("input",onDebugFilter);document.querySelector("#debugFilterClearBtn").addEventListener("click",function(){$("#debugFilter").val("");onDebugFilter()});$("#debugFilterForm").submit(function(){return!1});$(".modal-with-form").on("shown",function(){$(this).find(".focus-input").focus()});$(".modal-form").submit(function(n){n.preventDefault()});$(".asset-drop-target").on("dragover",handleAssetDragOver);$(".asset-drop-target").on("drop",handleAssetDrop);$(".asset-drop-target").on("dragenter",handleAssetDragEnter);$(".asset-drop-target").on("dragleave",handleAssetDragLeave);$(".asset-drop-target").on("dragend",handleAssetDragEnd)});$(document).ready(function(){var n;Logger=new Log($("#debugList"),$("#debugFilter"));location.protocol=="chrome-extension:"&&navigator.appVersion.indexOf("CrOS")!=-1&&($("#topNavBar").hide(),$("#pageContentWrapper").css("top",0));$("#topNavBar").is(":visible")&&(n=$("#topNavBar").outerHeight(!0),$("#pageContentWrapper").css("top",n));$(document).ajaxStart(function(){setBusy(!0)}).ajaxStop(function(){setBusy(!1)});var t=document.getElementById("busySpinner"),i=new Spinner({lines:11,length:20,width:9,radius:30,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!0,hwaccel:!0,className:"spinner",zIndex:2e9,top:"auto",left:"auto"}).spin(t);ideConfig.load().then(function(){var n,t,i;if(initIDE(),location.protocol=="http:")if(/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(location.hostname)){function r(n){if(n==5){onRequestError();return}connect(location.hostname).then(function(n){connected(n)},function(t){t=="PasswordError"?($("#passwordDialogError").show(),r(++n)):onRequestError()})}$("#passwordDialogCancelButton").hide();r(0)}else $("#serverIPAddress").val(ideConfig.getIPAddress()),$("#connectDialog").modal("show");else location.protocol=="file:"?location.href.toLowerCase().indexOf("smartscript")<0?($("#serverIPAddress").val(ideConfig.getIPAddress()),$("#connectDialog").modal("show")):(simulate="SmartScript",connect("file")):location.protocol=="chrome-extension:"?(chromeApp.init(),chromeApp.zoom(ideConfig.getZoom()),$("#serverIPAddress").val(ideConfig.getIPAddress()),$("#connectDialog").modal("show")):console.log("Unable to determine where IDE is running from: "+document.URL);n=$("#rightPanelTabs").outerHeight(!0);$(".homeWrapper").css("top",n);$(".samplesWrapper").css("top",n);$(".docsWrapper").css("top",n);$(".debugWrapper").css("top",n);updateTooltips();onEditorResize();$("#newAppDialog").on("hidden",function(){$("#newAppError").hide()});$("#renameDialog").on("hidden",function(){$("#renameError").hide()});chromeApp.isInitialised()?(i=$("<webview id='homeView' src=''><\/webview>"),i.appendTo(".homeWrapper"),t=document.getElementById("homeView"),t.addEventListener("loadstop",function(){clearTimeout(homePageErrorTimeout);t.clearData({since:0},{appcache:!0,cache:!0},function(){console.log("cache cleared")});$("#homeView").css("width","100%");$("#homeView").css("height","100%");$("#homeErrorPage").hide();window.addEventListener("message",onReceiveMessage);t.addEventListener("newwindow",function(n){n.preventDefault();window.open(event.targetUrl)});t.contentWindow.postMessage({command:"handshake"},"*")})):(i=$("<iframe id='homeView' src='' frameborder='0'><\/iframe>"),i.appendTo(".homeWrapper"),window.addEventListener("message",onReceiveMessage));homePageErrorTimeout=setTimeout(function(){$("#homeErrorPage").show()},5e3);loadHomePage()})});document.addEventListener("keydown",function(n){var i=navigator.platform.match("Mac")?n.metaKey:n.ctrlKey,t;n.keyCode==83&&i?(n.preventDefault(),onSave()):n.keyCode==78&&i?(n.preventDefault(),onSave()):n.keyCode==82&&n.altKey?(n.preventDefault(),onRun()):n.keyCode==83&&n.altKey?(n.preventDefault(),onStop()):n.keyCode==116||n.keyCode==82&&i?$("#appsTab").is(":visible")&&(n.preventDefault(),refreshAppsList()):n.keyCode==187&&i?chromeApp.isInitialised()&&(n.preventDefault(),t=parseFloat($("#pageBody").css("zoom")),t=parseFloat(t.toFixed(1)),t+=.1,chromeApp.zoom(t),ideConfig.setZoom(t)):n.keyCode==189&&i&&chromeApp.isInitialised()&&(n.preventDefault(),t=parseFloat($("#pageBody").css("zoom")),t=parseFloat(t.toFixed(1)),t-=.1,t<.1&&(t=.1),chromeApp.zoom(t),ideConfig.setZoom(t))},!1);window.onbeforeunload=function(){return"Any unsaved changes will be lost."};$(document).on("click","#server",function(){var n=$(this).data("ipAddress");$("#serverIPAddress").val(n)});Log.prototype._showItem=function(n){var i=$(n),t=$("#debugFilter").val().trim(),r;t.length>0&&(t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),r=new RegExp(t,"i"),r.test(i.text())||i.hide());this.list.append(i);this.scrollToBottom()};Log.prototype.message=function(n){this._showItem("<li class='debug-message'><div class='debug-no-icon'>"+n+"<\/div><\/li>")};Log.prototype.error=function(n){var i=n,t,r;n.indexOf("Script Error:")>-1&&(t=n.split("|"),t.length==3&&(i=t[0].replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r=t[2].replace(/^.*[\\\/]/,""),r.indexOf("~")!=0&&(i+=", Line "+t[1],i+=", "+r)));this._showItem("<li class='debug-error'><div class='debug-error-icon'>"+i+"<\/div><\/li>")};Log.prototype.warning=function(n){this._showItem("<li class='debug-warning'><div class='debug-warning-icon'>"+n+"<\/div><\/li>")};Log.prototype.service=function(n){var t=n.replace("svc:","");this._showItem("<li class='debug-service'><div class='debug-no-icon'>"+t+"<\/div><\/li>")};Log.prototype.clear=function(){this.list.empty()};Log.prototype.scrollToBottom=function(){var n=this.list.outerHeight(!0);this.list.parent().scrollTop(n)};$(".immediate-form").on("submit",function(){var n=$("#immediate-code").val();return n.trim()!=""&&ajaxGet({url:getServerUrl("ide?cmd=exec&code="+encodeURIComponent(n))}),!1});webSocketKeepAliveTimer=null;$(document).on("click","#deleteAssetButton",function(){$(".tooltip").hide();var n=$(this).closest("li"),t=n.data("assetFile"),i=n.data("assetDir");typeof t!="undefined"&&typeof i!="undefined"&&($("#okCancelDialogOkButton").off("click").click(function(){ajaxGet({url:getServerUrl("ide?cmd=delete&file="+encodeURIComponent(i+"/"+t))}).then(function(){n.remove()})}),$("#okCancelDialogHeader").text("Delete Asset"),$("#okCancelDialogMessage").text("Are you sure you want to delete '"+t+"'?"),$("#okCancelDialog").modal("show"))});$(document).on("click","#renameAssetButton",function(){var n=$(this).closest("li"),t=n.data("assetFile"),i=n.data("assetDir"),r;typeof t!="undefined"&&typeof i!="undefined"&&($("#renameDialogName").val(t),r=function(){if($("#renameDialogName").val()!="")if(containsReservedCharacters($("#renameDialogName").val()))$("#renameError").fadeIn();else{var r=i+"/"+t,u=i+"/"+$("#renameDialogName").val();$("#renameDialog").modal("hide");ajaxGet({url:getServerUrl("ide?cmd=rename&file="+encodeURIComponent(r)+"&newname="+encodeURIComponent(u))}).then(function(){var t,i;n.find("div.thumbnailFilename").text($("#renameDialogName").val());n.data("assetFile",$("#renameDialogName").val());t=n.closest("ul").find("li");t.sort(function(n,t){var i=$(n).data("assetFile"),r=$(t).data("assetFile");return i.toLowerCase()<r.toLowerCase()?-1:i.toLowerCase()>r.toLowerCase()?1:0});i=n.closest("ul");$.each(t,function(n,t){i.append(t)})})}},$("#renameDialogButton").off("click").click(r),$("#renameDialog").modal("show"))});$("input[id=imageUploadFile]").change(function(){assetFileUploadChanged("imageUploadFile","imageUploadForm","/Img")});$("input[id=soundUploadFile]").change(function(){assetFileUploadChanged("soundUploadFile","soundUploadForm","/Snd")});$("input[id=htmlUploadFile]").change(function(){assetFileUploadChanged("htmlUploadFile","htmlUploadForm","/Html")});$("input[id=miscUploadFile]").change(function(){assetFileUploadChanged("miscUploadFile","miscUploadForm","/Misc")});dragOverStack=[];$(document).on("click","#sampleButton",function(){var n=$(this).closest("div"),t=n.data("title"),u=n.data("type"),i,r;currentSample=t;i=u=="h"?".html":".js";r=t.split(" ").join("_")+i;ajaxGet({url:getServerUrl("ide?cmd=get&file=/assets/samples/"+r)}).then(function(n){var t=n.replace(/\\\'/g,""),i;t=JSON.parse(t).file;sampleEditor.setValue(t);sampleEditor.moveCursorTo(0,0);$("#sampleCodeView").show();i=$("#sampleToolBar").outerHeight(!0);$("#sampleEditor").css("top",i);$("#sampleContentView").hide()})});$(document).on("click","#newApp .thumbnail",function(){newApp("js")});$(document).on("click","#newHtmlApp .thumbnail",function(){newApp("html")});$(document).on("click","#openAppButton",function(){var i=$(this).closest("li"),t=i.data("appName"),n;if(t){if(n=AppList.getApp(t),AppList.getOpenApp()==n){$('#leftPanelTabs a[href="#editorTab"]').tab("show");return}AppList.getOpenApp()!=null&&AppList.getOpenApp().isModified()?($("#yesNoCancelDialogHeader").text("Unsaved Changes"),$("#yesNoCancelDialogMessage").text("There are unsaved changes, do you want to save changes before continuing?"),$("#yesNoCancelDialogYesButton").off("click").click(function(){saveAll().then(function(){openApp(n)})}),$("#yesNoCancelDialogNoButton").off("click").click(function(){chromeApp.discardLocalAppChanges(AppList.getOpenApp().getName());openApp(n)}),$("#yesNoCancelDialog").modal("show")):openApp(n)}});$(document).on("click","#renameAppButton",function(){var n=$(this).closest("li"),t=n.data("appName"),i;t&&($("#renameDialogName").val(t),i=function(){var u,r,i,f;if($("#renameDialogName").val()!=""){if(u=t,r=$("#renameDialogName").val(),containsReservedCharacters(r)){$("#renameError").fadeIn();return}if($("#renameDialog").modal("hide"),r==u)return;typeof AppList.getApp(r)!="undefined"?($("#messageDialogHeader").text("Cannot Rename App"),$("#messageDialogMessage").text("An App with the name '"+r+"' already exists."),$("#messageDialog").modal("show")):(i=AppList.getApp(t),f=AppList.getOpenApp()==i,i.rename(r).then(function(){AppList.removeApp(u);AppList.addApp(i);n.data("appName",r);f&&($('#editorTabs a[href="'+i.mainEditorFile.tabId+'"]').text(i.mainEditorFile.filename),AppList.setOpenApp(i));n.find("p.appFilename").text(i.getName());loadExternalImage(getServerUrl(i.getIconPath()),n.find("img.app-image"));sortAppList()},function(){$("#errorDialog").modal("hide")}))}else $("#renameDialog").modal("hide")},$("#renameDialogButton").off("click").click(i),$("#renameDialog").modal("show"))});$(document).on("click","#deleteAppButton",function(){var i=$(this).closest("li"),n=i.data("appName"),t;n&&(t=AppList.getApp(n),AppList.getOpenApp()==t?($("#messageDialogHeader").text("Cannot Delete App"),$("#messageDialogMessage").text("'"+n+"' is currently open for edit and cannot be deleted."),$("#messageDialog").modal("show")):($("#okCancelDialogOkButton").off("click").click(function(){t.delete().then(function(){i.remove()})}),$("#okCancelDialogHeader").text("Delete App"),$("#okCancelDialogMessage").text("Are you sure you want to delete the App '"+n+"' and all its assets?"),$("#okCancelDialog").modal("show")))});$(document).on("click",".deleteFileBtn",function(){var r=$(this).closest("li"),t=r.data("editorFile"),n,i;typeof t!="undefined"&&(n=AppList.getOpenApp(),i=function(){ajaxGet({url:getServerUrl("ide?cmd=delete&file="+encodeURIComponent(n.folder+"/"+t.filename))}).then(function(){var i=n.editorFiles.indexOf(t);i!=-1&&(n.editorFiles.splice(i,1),$('#editorTabs a[href="'+t.tabId+'"]').parent().remove(),$("#editorTabs").data("tabdrop").layout(),n.activeEditorFile==t&&(i>=n.editorFiles.length&&--i,$('#editorTabs a[href="'+n.editorFiles[i].tabId+'"]').tab("show")))})},$("#okCancelDialogHeader").text("Delete File"),$("#okCancelDialogMessage").text("Delete '"+t.filename+"', are you sure?"),$("#okCancelDialogOkButton").off("click").click(i),$("#okCancelDialog").modal("show"))});$("#fileTypeOptions li a").click(function(){var n=$(this).text();$("#fileTypeChoice").html(n)});androidScriptCompleter={getCompletions:function(n,t,i,r,u){var o=t.getTokenAt(i.row,i.column),e,f,h,s;(o.type=="punctuation.operator"&&o.value=="."||o.type=="identifier")&&(e=t.getTokens(i.row),f=e.indexOf(o),o.type=="identifier"&&f>0&&f<e.length&&(f=f-1,(e[f].type!="punctuation.operator"||e[f].value!=".")&&(f=-1)),f>0&&f<e.length&&(f=f-1,e[f].type=="identifier"&&(h=getObjType(e[f].value,t.getValue()),h!=null&&(s=getObjFunctions(h),s.length>0&&(r!=""&&(s=s.filter(function(n){return n.lastIndexOf(r,0)==0})),u(null,s.map(function(n){return{name:n,value:n,score:1,meta:"function"}})))))));u(null,[])}};g_types={App:"App",Layout:"Lay",Image:"Img",Button:"Btn",Toggle:"Tgl",CheckBox:"Chk",Spinner:"Spn",SeekBar:" Skb",Text:"Txt",TextEdit:"Txe",List:"Lst",WebView:"Web",Scroller:"Scr",CameraView:"Cam",VideoView:"Vid",YesNoDialog:"Ynd",ListDialog:"Ldg",ListView:"Lvw",BluetoothList:"Btl",AudioRecorder:"Rec",IOIO:"IOIO",SMS:"SMS",Email:"EMAIL",SmartWatch:"SMW",Crypt:"Crp",SpeechRec:"Spr",Dialog:"Dlg",MediaPlayer:"Aud",Sensor:"Sns",Locator:"Loc",NetClient:"Net",NxtRemote:"Nxt",WebServer:"Wbs",USBSerial:"Usb",SysProc:"Sys",Service:"Svc",Synth:"Syn",BluetoothSerial:"Bts",ZipUtil:"Zip",Downloader:"Dwn",MediaStore:"Med",PlayStore:"Ply",Notification:"Not",File:"Fil",Tabs:"_Tabs",GLView:"GLV"};g_ignoreFuncs={App:["StartService","StopService","Try","Odroid","_Extract","CreateIOIO","CreateSmartWatch","CreateService","StartDebugServer","CreateWebGLView"]};g_objFunctionCache={};DroidScriptApp.prototype.getName=function(){return this.folder};DroidScriptApp.prototype.getIconPath=function(){return this.folder+"/Img/"+this.folder+".png"};DroidScriptApp.prototype.isModified=function(){for(var n=0;n<this.editorFiles.length;++n)if(this.editorFiles[n].modified)return!0;return!1};DroidScriptApp.prototype.getEditorFileForTab=function(n){for(var t=0;t<this.editorFiles.length;++t)if(this.editorFiles[t].tabId==n)return this.editorFiles[t];return null};DroidScriptApp.prototype.getEditorFileForFilename=function(n){for(var t=0;t<this.editorFiles.length;++t)if(this.editorFiles[t].filename==n)return this.editorFiles[t];return null};DroidScriptApp.prototype.getEditorFilePath=function(n){return this.folder+"/"+n.filename};DroidScriptApp.prototype.getType=function(){return this.mainEditorFile.getType()};DroidScriptApp.prototype.close=function(){for(var n=0;n<this.editorFiles.length;++n)this.editorFiles[n].close()};DroidScriptApp.prototype.rename=function(n){var t=this;return new Promise(function(i,r){ajaxGet({url:getServerUrl("ide?cmd=rename&file="+encodeURIComponent(t.folder)+"&newname="+encodeURIComponent(n))}).then(function(){t.folder=n;var i=n+"/"+t.mainEditorFile.filename,r=n+"/"+n+"."+t.mainEditorFile.getType();return ajaxGet({url:getServerUrl("ide?cmd=rename&file="+encodeURIComponent(i)+"&newname="+encodeURIComponent(r))})}).then(function(){t.mainEditorFile.displayName=n;t.mainEditorFile.filename=n+"."+t.mainEditorFile.getType();i()},r)})};DroidScriptApp.prototype.delete=function(){var n=this.getName();return new Promise(function(t,i){ajaxGet({url:getServerUrl("ide?cmd=delete&file="+encodeURIComponent(n))}).then(t,i)})};uniqueTabIdCounter=1;DroidScriptAppFile.prototype.setModified=function(n){this.modified=n};DroidScriptAppFile.prototype.getType=function(){var n=this.filename.split(".");return n[n.length-1]};DroidScriptAppFile.prototype.close=function(){this.functions=[];this.session=null;this.modified=!1;this.errorMarkers=[]}